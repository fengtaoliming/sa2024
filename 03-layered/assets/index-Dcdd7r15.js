import{n as le,y as ei,z as S,A as si,t as A,B as Kt,C as Zt,D as ni,E as ii,G as oi,H as ri,I as g,J as x,K as ai,L as li,M as ci,N as ui,O as Rt,P as Is,Q as hi,R as di,d as ms,b as _s,e as m,f as xe,h as fi,o as O,c as U,k as L,q,s as V,i as Ue,S as Me,T as vs,U as pi,V as gi,W as mi,X as _i,Y as vi,Z as yi,_ as bi,$ as J,a0 as fn,a1 as wi,a2 as He,a3 as ki,a4 as xi,a5 as Mi,r as Si,a6 as $i,a7 as Pi,u as Ci}from"./modules/vue-CnJIpJLC.js";import{T as Ti}from"./modules/shiki-BgDwwTVx.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();function ts(t,e={},s){for(const n in t){const i=t[n],o=s?`${s}:${n}`:n;typeof i=="object"&&i!==null?ts(i,e,o):typeof i=="function"&&(e[o]=i)}return e}const Li={run:t=>t()},Ei=()=>Li,pn=typeof console.createTask<"u"?console.createTask:Ei;function Ai(t,e){const s=e.shift(),n=pn(s);return t.reduce((i,o)=>i.then(()=>n.run(()=>o(...e))),Promise.resolve())}function Oi(t,e){const s=e.shift(),n=pn(s);return Promise.all(t.map(i=>n.run(()=>i(...e))))}function We(t,e){for(const s of[...t])s(e)}class Ii{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,s,n={}){if(!e||typeof s!="function")return()=>{};const i=e;let o;for(;this._deprecatedHooks[e];)o=this._deprecatedHooks[e],e=o.to;if(o&&!n.allowDeprecated){let a=o.message;a||(a=`${i} hook has been deprecated`+(o.to?`, please use ${o.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(a)||(console.warn(a),this._deprecatedMessages.add(a))}if(!s.name)try{Object.defineProperty(s,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(s),()=>{s&&(this.removeHook(e,s),s=void 0)}}hookOnce(e,s){let n,i=(...o)=>(typeof n=="function"&&n(),n=void 0,i=void 0,s(...o));return n=this.hook(e,i),n}removeHook(e,s){if(this._hooks[e]){const n=this._hooks[e].indexOf(s);n!==-1&&this._hooks[e].splice(n,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,s){this._deprecatedHooks[e]=typeof s=="string"?{to:s}:s;const n=this._hooks[e]||[];delete this._hooks[e];for(const i of n)this.hook(e,i)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const s in e)this.deprecateHook(s,e[s])}addHooks(e){const s=ts(e),n=Object.keys(s).map(i=>this.hook(i,s[i]));return()=>{for(const i of n.splice(0,n.length))i()}}removeHooks(e){const s=ts(e);for(const n in s)this.removeHook(n,s[n])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...s){return s.unshift(e),this.callHookWith(Ai,e,...s)}callHookParallel(e,...s){return s.unshift(e),this.callHookWith(Oi,e,...s)}callHookWith(e,s,...n){const i=this._before||this._after?{name:s,args:n,context:{}}:void 0;this._before&&We(this._before,i);const o=e(s in this._hooks?[...this._hooks[s]]:[],n);return o instanceof Promise?o.finally(()=>{this._after&&i&&We(this._after,i)}):(this._after&&i&&We(this._after,i),o)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const s=this._before.indexOf(e);s!==-1&&this._before.splice(s,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const s=this._after.indexOf(e);s!==-1&&this._after.splice(s,1)}}}}function Hi(){return new Ii}function Di(t){return Array.isArray(t)?t:[t]}const Ri=["title","titleTemplate","script","style","noscript"],_e=["base","meta","link","style","script","noscript"],Ni=["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"],ji=["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"],gn=["tagPosition","tagPriority","tagDuplicateStrategy","children","innerHTML","textContent","processTemplateParams"],Fi=typeof window<"u";function ys(t){let e=9;for(let s=0;s<t.length;)e=Math.imul(e^t.charCodeAt(s++),9**9);return((e^e>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function Hs(t){return t._h||ys(t._d?t._d:`${t.tag}:${t.textContent||t.innerHTML||""}:${Object.entries(t.props).map(([e,s])=>`${e}:${String(s)}`).join(",")}`)}function mn(t,e){const{props:s,tag:n}=t;if(ji.includes(n))return n;if(n==="link"&&s.rel==="canonical")return"canonical";if(s.charset)return"charset";const i=["id"];n==="meta"&&i.push("name","property","http-equiv");for(const o of i)if(typeof s[o]<"u"){const a=String(s[o]);return e&&!e(a)?!1:`${n}:${o}:${a}`}return!1}function Ds(t,e){return t==null?e||null:typeof t=="function"?t(e):t}async function zi(t,e,s){const n={tag:t,props:await _n(typeof e=="object"&&typeof e!="function"&&!(e instanceof Promise)?{...e}:{[["script","noscript","style"].includes(t)?"innerHTML":"textContent"]:e},["templateParams","titleTemplate"].includes(t))};return gn.forEach(i=>{const o=typeof n.props[i]<"u"?n.props[i]:s[i];typeof o<"u"&&((!["innerHTML","textContent","children"].includes(i)||Ri.includes(n.tag))&&(n[i==="children"?"innerHTML":i]=o),delete n.props[i])}),n.props.body&&(n.tagPosition="bodyClose",delete n.props.body),n.tag==="script"&&typeof n.innerHTML=="object"&&(n.innerHTML=JSON.stringify(n.innerHTML),n.props.type=n.props.type||"application/json"),Array.isArray(n.props.content)?n.props.content.map(i=>({...n,props:{...n.props,content:i}})):n}function Ui(t){return typeof t=="object"&&!Array.isArray(t)&&(t=Object.keys(t).filter(e=>t[e])),(Array.isArray(t)?t.join(" "):t).split(" ").filter(e=>e.trim()).filter(Boolean).join(" ")}async function _n(t,e){for(const s of Object.keys(t)){if(s==="class"){t[s]=Ui(t[s]);continue}if(t[s]instanceof Promise&&(t[s]=await t[s]),!e&&!gn.includes(s)){const n=String(t[s]),i=s.startsWith("data-");n==="true"||n===""?t[s]=i?"true":!0:t[s]||(i&&n==="false"?t[s]="false":delete t[s])}}return t}const Wi=10;async function qi(t){const e=[];return Object.entries(t.resolvedInput).filter(([s,n])=>typeof n<"u"&&Ni.includes(s)).forEach(([s,n])=>{const i=Di(n);e.push(...i.map(o=>zi(s,o,t)).flat())}),(await Promise.all(e)).flat().filter(Boolean).map((s,n)=>(s._e=t._i,t.mode&&(s._m=t.mode),s._p=(t._i<<Wi)+n,s))}const Rs={base:-10,title:10},Ns={critical:-80,high:-10,low:20};function Se(t){let e=100;const s=t.tagPriority;return typeof s=="number"?s:(t.tag==="meta"?(t.props["http-equiv"]==="content-security-policy"&&(e=-30),t.props.charset&&(e=-20),t.props.name==="viewport"&&(e=-15)):t.tag==="link"&&t.props.rel==="preconnect"?e=20:t.tag in Rs&&(e=Rs[t.tag]),typeof s=="string"&&s in Ns?e+Ns[s]:e)}const Vi=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],vn=["onload","onerror","onabort","onprogress","onloadstart"],Ot="%separator";function ve(t,e,s){if(typeof t!="string"||!t.includes("%"))return t;function n(a){let r;return["s","pageTitle"].includes(a)?r=e.pageTitle:a.includes(".")?r=a.split(".").reduce((l,c)=>l&&l[c]||void 0,e):r=e[a],typeof r<"u"?(r||"").replace(/"/g,'\\"'):!1}let i=t;try{i=decodeURI(t)}catch{}return(i.match(/%(\w+\.+\w+)|%(\w+)/g)||[]).sort().reverse().forEach(a=>{const r=n(a.slice(1));typeof r=="string"&&(t=t.replace(new RegExp(`\\${a}(\\W|$)`,"g"),(l,c)=>`${r}${c}`).trim())}),t.includes(Ot)&&(t.endsWith(Ot)&&(t=t.slice(0,-Ot.length).trim()),t.startsWith(Ot)&&(t=t.slice(Ot.length).trim()),t=t.replace(new RegExp(`\\${Ot}\\s*\\${Ot}`,"g"),Ot),t=ve(t,{separator:s},s)),t}async function Bi(t){const e={tag:t.tagName.toLowerCase(),props:await _n(t.getAttributeNames().reduce((s,n)=>({...s,[n]:t.getAttribute(n)}),{})),innerHTML:t.innerHTML};return e._d=mn(e),e}async function Ki(t,e={}){var u;const s=e.document||t.resolvedOptions.document;if(!s)return;const n={shouldRender:t.dirty,tags:[]};if(await t.hooks.callHook("dom:beforeRender",n),!n.shouldRender)return;const i=(await t.resolveTags()).map(h=>({tag:h,id:_e.includes(h.tag)?Hs(h):h.tag,shouldRender:!0}));let o=t._dom;if(!o){o={elMap:{htmlAttrs:s.documentElement,bodyAttrs:s.body}};for(const h of["body","head"]){const f=(u=s==null?void 0:s[h])==null?void 0:u.children;for(const d of[...f].filter(p=>_e.includes(p.tagName.toLowerCase())))o.elMap[d.getAttribute("data-hid")||Hs(await Bi(d))]=d}}o.pendingSideEffects={...o.sideEffects||{}},o.sideEffects={};function a(h,f,d){const p=`${h}:${f}`;o.sideEffects[p]=d,delete o.pendingSideEffects[p]}function r({id:h,$el:f,tag:d}){const p=d.tag.endsWith("Attrs");o.elMap[h]=f,p||(["textContent","innerHTML"].forEach(_=>{d[_]&&d[_]!==f[_]&&(f[_]=d[_])}),a(h,"el",()=>{o.elMap[h].remove(),delete o.elMap[h]})),Object.entries(d.props).forEach(([_,v])=>{const y=`attr:${_}`;if(_==="class")for(const w of(v||"").split(" ").filter(Boolean))p&&a(h,`${y}:${w}`,()=>f.classList.remove(w)),!f.classList.contains(w)&&f.classList.add(w);else f.getAttribute(_)!==v&&f.setAttribute(_,v===!0?"":String(v)),p&&a(h,y,()=>f.removeAttribute(_))})}const l=[],c={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const h of i){const{tag:f,shouldRender:d,id:p}=h;if(d){if(f.tag==="title"){s.title=f.textContent;continue}h.$el=h.$el||o.elMap[p],h.$el?r(h):_e.includes(f.tag)&&l.push(h)}}for(const h of l){const f=h.tag.tagPosition||"head";h.$el=s.createElement(h.tag.tag),r(h),c[f]=c[f]||s.createDocumentFragment(),c[f].appendChild(h.$el)}for(const h of i)await t.hooks.callHook("dom:renderTag",h,s,a);c.head&&s.head.appendChild(c.head),c.bodyOpen&&s.body.insertBefore(c.bodyOpen,s.body.firstChild),c.bodyClose&&s.body.appendChild(c.bodyClose),Object.values(o.pendingSideEffects).forEach(h=>h()),t._dom=o,t.dirty=!1,await t.hooks.callHook("dom:rendered",{renders:i})}async function Gi(t,e={}){const s=e.delayFn||(n=>setTimeout(n,10));return t._domUpdatePromise=t._domUpdatePromise||new Promise(n=>s(async()=>{await Ki(t,e),delete t._domUpdatePromise,n()}))}function Zi(t){return e=>{var n,i;const s=((i=(n=e.resolvedOptions.document)==null?void 0:n.head.querySelector('script[id="unhead:payload"]'))==null?void 0:i.innerHTML)||!1;return s&&e.push(JSON.parse(s)),{mode:"client",hooks:{"entries:updated":function(o){Gi(o,t)}}}}}const Ji=["templateParams","htmlAttrs","bodyAttrs"],Xi={hooks:{"tag:normalise":function({tag:t}){["hid","vmid","key"].forEach(n=>{t.props[n]&&(t.key=t.props[n],delete t.props[n])});const s=mn(t)||(t.key?`${t.tag}:${t.key}`:!1);s&&(t._d=s)},"tags:resolve":function(t){const e={};t.tags.forEach(n=>{const i=(n.key?`${n.tag}:${n.key}`:n._d)||n._p,o=e[i];if(o){let r=n==null?void 0:n.tagDuplicateStrategy;if(!r&&Ji.includes(n.tag)&&(r="merge"),r==="merge"){const l=o.props;["class","style"].forEach(c=>{l[c]&&(n.props[c]?(c==="style"&&!l[c].endsWith(";")&&(l[c]+=";"),n.props[c]=`${l[c]} ${n.props[c]}`):n.props[c]=l[c])}),e[i].props={...l,...n.props};return}else if(n._e===o._e){o._duped=o._duped||[],n._d=`${o._d}:${o._duped.length+1}`,o._duped.push(n);return}else if(Se(n)>Se(o))return}const a=Object.keys(n.props).length+(n.innerHTML?1:0)+(n.textContent?1:0);if(_e.includes(n.tag)&&a===0){delete e[i];return}e[i]=n});const s=[];Object.values(e).forEach(n=>{const i=n._duped;delete n._duped,s.push(n),i&&s.push(...i)}),t.tags=s,t.tags=t.tags.filter(n=>!(n.tag==="meta"&&(n.props.name||n.props.property)&&!n.props.content))}}},Yi={mode:"server",hooks:{"tags:resolve":function(t){const e={};t.tags.filter(s=>["titleTemplate","templateParams","title"].includes(s.tag)&&s._m==="server").forEach(s=>{e[s.tag]=s.tag.startsWith("title")?s.textContent:s.props}),Object.keys(e).length&&t.tags.push({tag:"script",innerHTML:JSON.stringify(e),props:{id:"unhead:payload",type:"application/json"}})}}},Qi=["script","link","bodyAttrs"];function to(t){const e={},s={};return Object.entries(t.props).forEach(([n,i])=>{n.startsWith("on")&&typeof i=="function"?(vn.includes(n)&&(e[n]=`this.dataset.${n} = true`),s[n]=i):e[n]=i}),{props:e,eventHandlers:s}}const eo=t=>({hooks:{"tags:resolve":function(e){for(const s of e.tags)if(Qi.includes(s.tag)){const{props:n,eventHandlers:i}=to(s);s.props=n,Object.keys(i).length&&((s.props.src||s.props.href)&&(s.key=s.key||ys(s.props.src||s.props.href)),s._eventHandlers=i)}},"dom:renderTag":function(e,s,n){if(!e.tag._eventHandlers)return;const i=e.tag.tag==="bodyAttrs"?s.defaultView:e.$el;Object.entries(e.tag._eventHandlers).forEach(([o,a])=>{const r=`${e.tag._d||e.tag._p}:${o}`,l=o.slice(2).toLowerCase(),c=`data-h-${l}`;if(n(e.id,r,()=>{}),e.$el.hasAttribute(c))return;e.$el.setAttribute(c,"");let u;const h=f=>{a(f),u==null||u.disconnect()};o in e.$el.dataset?h(new Event(o.replace("on",""))):vn.includes(o)&&typeof MutationObserver<"u"?(u=new MutationObserver(f=>{f.some(p=>p.attributeName===`data-${o}`)&&(h(new Event(o.replace("on",""))),u==null||u.disconnect())}),u.observe(e.$el,{attributes:!0})):i.addEventListener(l,h),n(e.id,r,()=>{u==null||u.disconnect(),i.removeEventListener(l,h),e.$el.removeAttribute(c)})})}}}),so=["link","style","script","noscript"],no={hooks:{"tag:normalise":({tag:t})=>{t.key&&so.includes(t.tag)&&(t.props["data-hid"]=t._h=ys(t.key))}}},io={hooks:{"tags:resolve":t=>{const e=s=>{var n;return(n=t.tags.find(i=>i._d===s))==null?void 0:n._p};for(const{prefix:s,offset:n}of Vi)for(const i of t.tags.filter(o=>typeof o.tagPriority=="string"&&o.tagPriority.startsWith(s))){const o=e(i.tagPriority.replace(s,""));typeof o<"u"&&(i._p=o+n)}t.tags.sort((s,n)=>s._p-n._p).sort((s,n)=>Se(s)-Se(n))}}},oo={meta:"content",link:"href",htmlAttrs:"lang"},ro=t=>({hooks:{"tags:resolve":e=>{var r;const{tags:s}=e,n=(r=s.find(l=>l.tag==="title"))==null?void 0:r.textContent,i=s.findIndex(l=>l.tag==="templateParams"),o=i!==-1?s[i].props:{},a=o.separator||"|";delete o.separator,o.pageTitle=ve(o.pageTitle||n||"",o,a);for(const l of s.filter(c=>c.processTemplateParams!==!1)){const c=oo[l.tag];c&&typeof l.props[c]=="string"?l.props[c]=ve(l.props[c],o,a):(l.processTemplateParams===!0||["titleTemplate","title"].includes(l.tag))&&["innerHTML","textContent"].forEach(u=>{typeof l[u]=="string"&&(l[u]=ve(l[u],o,a))})}t._templateParams=o,t._separator=a,e.tags=s.filter(l=>l.tag!=="templateParams")}}}),ao={hooks:{"tags:resolve":t=>{const{tags:e}=t;let s=e.findIndex(i=>i.tag==="titleTemplate");const n=e.findIndex(i=>i.tag==="title");if(n!==-1&&s!==-1){const i=Ds(e[s].textContent,e[n].textContent);i!==null?e[n].textContent=i||e[n].textContent:delete e[n]}else if(s!==-1){const i=Ds(e[s].textContent);i!==null&&(e[s].textContent=i,e[s].tag="title",s=-1)}s!==-1&&delete e[s],t.tags=e.filter(Boolean)}}},lo={hooks:{"tags:afterResolve":function(t){for(const e of t.tags)typeof e.innerHTML=="string"&&(e.innerHTML&&["application/ld+json","application/json"].includes(e.props.type)?e.innerHTML=e.innerHTML.replace(/</g,"\\u003C"):e.innerHTML=e.innerHTML.replace(new RegExp(`</${e.tag}`,"g"),`<\\/${e.tag}`))}}};let yn;function co(t={}){const e=uo(t);return e.use(Zi()),yn=e}function js(t,e){return!t||t==="server"&&e||t==="client"&&!e}function uo(t={}){const e=Hi();e.addHooks(t.hooks||{}),t.document=t.document||(Fi?document:void 0);const s=!t.document,n=()=>{r.dirty=!0,e.callHook("entries:updated",r)};let i=0,o=[];const a=[],r={plugins:a,dirty:!1,resolvedOptions:t,hooks:e,headEntries(){return o},use(l){const c=typeof l=="function"?l(r):l;(!c.key||!a.some(u=>u.key===c.key))&&(a.push(c),js(c.mode,s)&&e.addHooks(c.hooks||{}))},push(l,c){c==null||delete c.head;const u={_i:i++,input:l,...c};return js(u.mode,s)&&(o.push(u),n()),{dispose(){o=o.filter(h=>h._i!==u._i),e.callHook("entries:updated",r),n()},patch(h){o=o.map(f=>(f._i===u._i&&(f.input=u.input=h),f)),n()}}},async resolveTags(){const l={tags:[],entries:[...o]};await e.callHook("entries:resolve",l);for(const c of l.entries){const u=c.resolvedInput||c.input;if(c.resolvedInput=await(c.transform?c.transform(u):u),c.resolvedInput)for(const h of await qi(c)){const f={tag:h,entry:c,resolvedOptions:r.resolvedOptions};await e.callHook("tag:normalise",f),l.tags.push(f.tag)}}return await e.callHook("tags:beforeResolve",l),await e.callHook("tags:resolve",l),await e.callHook("tags:afterResolve",l),l.tags},ssr:s};return[Xi,Yi,eo,no,io,ro,ao,lo,...(t==null?void 0:t.plugins)||[]].forEach(l=>r.use(l)),r.hooks.callHook("init",r),r}function ho(){return yn}const fo=ei.startsWith("3");function po(t){return typeof t=="function"?t():S(t)}function $e(t,e=""){if(t instanceof Promise)return t;const s=po(t);return!t||!s?s:Array.isArray(s)?s.map(n=>$e(n,e)):typeof s=="object"?Object.fromEntries(Object.entries(s).map(([n,i])=>n==="titleTemplate"||n.startsWith("on")?[n,S(i)]:[n,$e(i,n)])):s}const go={hooks:{"entries:resolve":function(t){for(const e of t.entries)e.resolvedInput=$e(e.input)}}},bn="usehead";function mo(t){return{install(s){fo&&(s.config.globalProperties.$unhead=t,s.config.globalProperties.$head=t,s.provide(bn,t))}}.install}function _o(t={}){t.domDelayFn=t.domDelayFn||(s=>le(()=>setTimeout(()=>s(),0)));const e=co(t);return e.use(go),e.install=mo(e),e}const Fs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zs="__unhead_injection_handler__";function vo(){if(zs in Fs)return Fs[zs]();const t=si(bn);return t||console.warn("Unhead is missing Vue context, falling back to shared context. This may have unexpected results."),t||ho()}function yo(t,e={}){const s=e.head||vo();if(s)return s.ssr?s.push(t,e):bo(s,t,e)}function bo(t,e,s={}){const n=A(!1),i=A({});Kt(()=>{i.value=n.value?{}:$e(e)});const o=t.push(i.value,s);return Zt(i,r=>{o.patch(r)}),ri()&&(ni(()=>{o.dispose()}),ii(()=>{n.value=!0}),oi(()=>{n.value=!1})),o}function wo(...t){return xo(t).reduce((e,s)=>e+s,0)}function ko(t){return t=t??[],Array.isArray(t)?t:[t]}function xo(t){return ko(t).flat(1)}function Mo(t){return t!=null}function So(t,e){return Object.fromEntries(Object.entries(t).map(([s,n])=>e(s,n)).filter(Mo))}const T={theme:"default",title:"Software Architecture",titleTemplate:"%s - Slidev",addons:[],remoteAssets:!1,monaco:"dev",monacoTypesSource:"local",monacoTypesAdditionalPackages:[],download:!1,export:{},info:!1,highlighter:"shiki",lineNumbers:!1,colorSchema:"auto",routerMode:"history",aspectRatio:1.7777777777777777,canvasWidth:980,exportFilename:"",selectable:!1,themeConfig:{},fonts:{sans:['"Avenir Next"','"Nunito Sans"',"ui-sans-serif","system-ui","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial",'"Noto Sans"',"sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:["ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:['"Fira Code"',"ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"],webfonts:["Avenir Next","Nunito Sans","Fira Code"],provider:"google",local:["Avenir Next"],italic:!1,weights:["200","400","600"]},favicon:"https://cdn.jsdelivr.net/gh/slidevjs/slidev/assets/favicon.png",drawings:{enabled:!0,persist:!1,presenterOnly:!1,syncAll:!0},plantUmlServer:"https://www.plantuml.com/plantuml",codeCopy:!0,record:"dev",css:"unocss",presenter:!0,htmlAttrs:{},editor:!0,layout:"cover"},wn=T.aspectRatio??16/9,$o=T.canvasWidth??980,hu=Math.ceil($o/wn),Po=g(()=>So(T.themeConfig||{},(t,e)=>[`--slidev-theme-${t}`,e]));function kn(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(2,10)}function st(t,e,s){Object.defineProperty(t,e,{value:s,writable:!0,enumerable:!1})}const zt=x({page:0,clicks:0});let Co=[],To=[];st(zt,"$syncUp",!0);st(zt,"$syncDown",!0);st(zt,"$paused",!1);st(zt,"$onSet",t=>Co.push(t));st(zt,"$onPatch",t=>To.push(t));kn();st(zt,"$patch",async()=>!1);function xn(t,e,s=!1){const n=[];let i=!1,o=!1,a,r;const l=x(e);function c(d){n.push(d)}function u(d,p){l[d]!==p&&(clearTimeout(a),i=!0,l[d]=p,a=setTimeout(()=>i=!1,0))}function h(d){i||(clearTimeout(r),o=!0,Object.entries(d).forEach(([p,_])=>{l[p]=_}),r=setTimeout(()=>o=!1,0))}function f(d){let p;s?s&&window.addEventListener("storage",v=>{v&&v.key===d&&v.newValue&&h(JSON.parse(v.newValue))}):(p=new BroadcastChannel(d),p.addEventListener("message",v=>h(v.data)));function _(){!s&&p&&!o?p.postMessage(ai(l)):s&&!o&&window.localStorage.setItem(d,JSON.stringify(l)),i||n.forEach(v=>v(l))}if(Zt(l,_,{deep:!0,flush:"sync"}),s){const v=window.localStorage.getItem(d);v&&h(JSON.parse(v))}}return{init:f,onPatch:c,patch:u,state:l}}const{init:Lo,onPatch:Eo,patch:Yt,state:du}=xn(zt,{page:1,clicks:0,viewerPage:1,viewerClicks:0}),Ut=x({});let Ao=[],Oo=[];st(Ut,"$syncUp",!0);st(Ut,"$syncDown",!0);st(Ut,"$paused",!1);st(Ut,"$onSet",t=>Ao.push(t));st(Ut,"$onPatch",t=>Oo.push(t));kn();st(Ut,"$patch",async()=>!1);const{init:Io,onPatch:Ho,patch:Mn,state:Sn}=xn(Ut,{},!1),Do="modulepreload",Ro=function(t){return"/sa2024/03-layered/"+t},Us={},ce=function(e,s,n){let i=Promise.resolve();if(s&&s.length>0){const o=document.getElementsByTagName("link");i=Promise.all(s.map(a=>{if(a=Ro(a),a in Us)return;Us[a]=!0;const r=a.endsWith(".css"),l=r?'[rel="stylesheet"]':"";if(!!n)for(let h=o.length-1;h>=0;h--){const f=o[h];if(f.href===a&&(!r||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${l}`))return;const u=document.createElement("link");if(u.rel=r?"stylesheet":Do,r||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),r)return new Promise((h,f)=>{u.addEventListener("load",h),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(o=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o})},I=(t,e)=>{const s=t.__vccOpts||t;for(const[n,i]of e)s[n]=i;return s};function fu(){const t=A(Date.now()),e=li({interval:1e3}),s=g(()=>{const i=(e.value-t.value)/1e3,o=Math.floor(i%60).toString().padStart(2,"0");return`${Math.floor(i/60).toString().padStart(2,"0")}:${o}`});function n(){t.value=e.value}return{timer:s,resetTimer:n}}function No(t=5){const e=[],s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=s.length;for(let i=0;i<t;i++)e.push(s.charAt(Math.floor(Math.random()*n)));return e.join("")}function jo(t="+1"){let e=+t;return Number.isNaN(e)&&(console.warn("[slidev] Invalid click position:",t),e=0),[typeof t=="string"&&"+-".includes(t[0]),e]}const bs="$$slidev-clicks-context",$n="$$slidev-page",Fo="$$slidev-slide-scale",Pn="$$slidev-context",zo="$$slidev-route",Cn="$$slidev-render-context",pu="$$slidev-active",Tn="$$slidev-fontmatter",ye="slidev-vclick-target",Qt="slidev-vclick-hidden",te="slidev-vclick-fade",qe="slidev-vclick-hidden-explicitly",Ve="slidev-vclick-current",Be="slidev-vclick-prior",es=999999,Uo=["localhost","127.0.0.1"],Ln=["clicks","disabled","hide","hideInToc","layout","level","preload","routeAlias","src","title","transition","zoom"],Wo=[...Ln,"theme","titleTemplate","info","author","keywords","presenter","download","exportFilename","export","highlighter","lineNumbers","monaco","remoteAssets","selectable","record","colorSchema","routerMode","aspectRatio","canvasWidth","themeConfig","favicon","plantUmlServer","fonts","defaults","drawings","htmlAttrs","mdc"];function En(t,e){const s=new Map,n=ci(new Map);return{get disabled(){return sc.value&&!nc.value},get current(){return t.value},set current(i){t.value=i},relativeOffsets:s,map:n,resolve(i,o=1){const[a,r]=jo(i);if(a){const l=this.currentOffset;return{start:l+r,end:l+r+o-1,delta:r+o-1}}else return{start:r,end:r+o-1,delta:0}},register(i,o){s.set(i,o.delta),n.set(i,o)},unregister(i){s.delete(i),n.delete(i)},get currentOffset(){return ls.value,wo(...s.values())},get total(){return ls.value,e??Math.max(0,...[...n.values()].map(i=>i.max||0))}}}function qo(t){var i,o;if((i=t==null?void 0:t.meta)!=null&&i.__clicksContext)return t.meta.__clicksContext;const e=+((t==null?void 0:t.path)??es),s=g({get(){var r;const a=+(((r=Tt.value)==null?void 0:r.path)??Number.NaN);return!a||Number.isNaN(a)?0:a===e?Gt.value:a>e?es:0},set(a){var l;+(((l=Tt.value)==null?void 0:l.path)??Number.NaN)===e&&(Gt.value=a)}}),n=En(s,(o=t==null?void 0:t.meta)==null?void 0:o.clicks);return t!=null&&t.meta&&(t.meta.__clicksContext=n),n}function Vo(t,e=0){var s;return En(A(e),(s=t==null?void 0:t.meta)==null?void 0:s.clicks)}const Bo=ui(Vo());function j(){const t=Rt(Pn),e=Is(t,"nav"),s=Rt(bs,Bo).value,n=Is(s,"current"),i=Rt($n),o=Rt(Cn),a=Rt(Tn,{}),r=Rt(zo,void 0),l=Rt(Fo,A(1));return{$slidev:t,$nav:e,$clicksContext:s,$clicks:n,$page:i,$route:r,$renderContext:o,$frontmatter:a,$scale:l}}function B(t){var i,o;hi(Tn,t);const{$slidev:e,$page:s}=j(),n=e.nav.rawRoutes.find(a=>a.path===String(s.value));if((o=(i=n==null?void 0:n.meta)==null?void 0:i.slide)!=null&&o.frontmatter){for(const a of Object.keys(n.meta.slide.frontmatter))a in t||delete n.meta.slide.frontmatter[a];Object.assign(n.meta.slide.frontmatter,t)}}function K(t,e){return{...di(t,e===0?Wo:Ln),frontmatter:t}}function Ws(t){return t.startsWith("/")?"/sa2024/03-layered/"+t.slice(1):t}function Ko(t,e=!1){const s=t&&["#","rgb","hsl"].some(i=>t.indexOf(i)===0),n={background:s?t:void 0,color:t&&!s?"white":void 0,backgroundImage:s?void 0:t?e?`linear-gradient(#0005, #0008), url(${Ws(t)})`:`url("${Ws(t)}")`:void 0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"};return n.background||delete n.background,n}const Go={class:"my-auto w-full"},Zo=ms({__name:"cover",props:{background:{default:""}},setup(t){j();const e=t,s=g(()=>Ko(e.background,!0));return(n,i)=>(O(),_s("div",{class:"slidev-layout cover",style:fi(s.value)},[m("div",Go,[xe(n.$slots,"default")])],4))}}),Jo=I(Zo,[["__file","/opt/homebrew/lib/node_modules/@slidev/theme-default/layouts/cover.vue"]]),ft=x({theme:"default",layout:"cover"}),Xo=x({layout:g(()=>ft.layout),transition:g(()=>ft.transition),class:g(()=>ft.class),clicks:g(()=>ft.clicks),name:g(()=>ft.name),preload:g(()=>ft.preload),slide:{index:0,content:"",note:"",title:"Software Architecture",level:1,noteHTML:"",raw:"",frontmatter:ft,filepath:"/Users/chun/Develop/software-architecture-explained-with-spring/03-layered.md",start:0,id:0,no:1},__clicksContext:null,__preloaded:!1}),Yo=m("h1",null,"Software Architecture",-1),Qo=m("h2",null,"Layered Systems",-1),tr={__name:"1",setup(t){return B(ft),j(),(e,s)=>(O(),U(Jo,q(V(S(K)(S(ft),0))),{default:L(()=>[Yo,Qo]),_:1},16))}},er=I(tr,[["__file","/@slidev/slides/1.md"]]),sr="/sa2024/03-layered/assets/03-evol-01-CuubCwRV.png",nr="/sa2024/03-layered/assets/03-evol-hardware-DhElECRJ.png",ir=ms({__name:"two-cols",props:{class:{type:String},layoutClass:{type:String}},setup(t){const e=t;return(s,n)=>(O(),_s("div",{class:Ue(["slidev-layout two-columns w-full h-full grid grid-cols-2",e.layoutClass])},[m("div",{class:Ue(["col-left",e.class])},[xe(s.$slots,"default")],2),m("div",{class:Ue(["col-right",e.class])},[xe(s.$slots,"right")],2)],2))}}),Wt=I(ir,[["__file","/opt/homebrew/lib/node_modules/@slidev/cli/node_modules/@slidev/client/layouts/two-cols.vue"]]),pt=x({layout:"two-cols"}),or=x({layout:g(()=>pt.layout),transition:g(()=>pt.transition),class:g(()=>pt.class),clicks:g(()=>pt.clicks),name:g(()=>pt.name),preload:g(()=>pt.preload),slide:{index:1,content:"",note:"",title:"软件设计发展",level:1,noteHTML:"",raw:"",frontmatter:pt,filepath:"/Users/chun/Develop/software-architecture-explained-with-spring/03-layered.md",start:10,id:1,no:2},__clicksContext:null,__preloaded:!1}),rr=m("h1",null,"软件设计发展",-1),ar=m("br",null,null,-1),lr=m("ul",null,[m("li",null,"初始状态：硬件"),m("li",null,"如何提高算法适应性？"),m("li",null,"分离出了程序(汇编)")],-1),cr=m("br",null,null,-1),ur=m("img",{src:sr,class:"m-0 h-20"},null,-1),hr=m("img",{src:nr,class:"m-20 h-60"},null,-1),dr={__name:"2",setup(t){return B(pt),j(),(e,s)=>(O(),U(Wt,q(V(S(K)(S(pt),1))),{right:L(n=>[hr]),default:L(()=>[rr,ar,lr,cr,ur]),_:1},16))}},fr=I(dr,[["__file","/@slidev/slides/2.md"]]),pr="/sa2024/03-layered/assets/03-evol-02-CDWl5oNo.png",gr={},mr={class:"slidev-layout default"};function _r(t,e){return O(),_s("div",mr,[xe(t.$slots,"default")])}const Dt=I(gr,[["render",_r],["__file","/opt/homebrew/lib/node_modules/@slidev/cli/node_modules/@slidev/client/layouts/default.vue"]]),gt=x({}),vr=x({layout:g(()=>gt.layout),transition:g(()=>gt.transition),class:g(()=>gt.class),clicks:g(()=>gt.clicks),name:g(()=>gt.name),preload:g(()=>gt.preload),slide:{index:2,content:"",note:"",title:"发展-操作系统软件",level:1,noteHTML:"",raw:"",frontmatter:gt,filepath:"/Users/chun/Develop/software-architecture-explained-with-spring/03-layered.md",start:33,id:2,no:3},__clicksContext:null,__preloaded:!1}),yr=m("h1",null,"发展-操作系统软件",-1),br=m("br",null,null,-1),wr=m("ul",null,[m("li",null,"初始状态：硬件 + 程序"),m("li",null,"程序的共性（稳定）成分： 计算资源管理"),m("li",null,"产生：操作系统"),m("li",null,[Me("分离出了：应用程序 "),m("br")])],-1),kr=m("img",{src:pr,class:"m-20 h-30"},null,-1),xr={__name:"3",setup(t){return B(gt),j(),(e,s)=>(O(),U(Dt,q(V(S(K)(S(gt),2))),{default:L(()=>[yr,br,wr,kr]),_:1},16))}},Mr=I(xr,[["__file","/@slidev/slides/3.md"]]),Sr="/sa2024/03-layered/assets/03-evol-03-DU0ucUBr.png",mt=x({}),$r=x({layout:g(()=>mt.layout),transition:g(()=>mt.transition),class:g(()=>mt.class),clicks:g(()=>mt.clicks),name:g(()=>mt.name),preload:g(()=>mt.preload),slide:{index:3,content:"",note:"",title:"发展-数据库软件",level:1,noteHTML:"",raw:"",frontmatter:mt,filepath:"/Users/chun/Develop/software-architecture-explained-with-spring/03-layered.md",start:50,id:3,no:4},__clicksContext:null,__preloaded:!1}),Pr=m("h1",null,"发展-数据库软件",-1),Cr=m("br",null,null,-1),Tr=m("ul",null,[m("li",null,"初始状态：硬件 + 操作系统 + 应用程序"),m("li",null,"程序的共性（稳定）成分：数据管理"),m("li",null,"产生了：数据库管理系统"),m("li",null,"分离出了：应用软件")],-1),Lr=m("img",{src:Sr,class:"m-10 h-40"},null,-1),Er={__name:"4",setup(t){return B(mt),j(),(e,s)=>(O(),U(Dt,q(V(S(K)(S(mt),3))),{default:L(()=>[Pr,Cr,Tr,Lr]),_:1},16))}},Ar=I(Er,[["__file","/@slidev/slides/4.md"]]),Or="/sa2024/03-layered/assets/03-evol-04-DzxBr1Rt.png",_t=x({layout:"two-cols"}),Ir=x({layout:g(()=>_t.layout),transition:g(()=>_t.transition),class:g(()=>_t.class),clicks:g(()=>_t.clicks),name:g(()=>_t.name),preload:g(()=>_t.preload),slide:{index:4,content:"",note:"",title:"发展-中间件软件",level:1,noteHTML:"",raw:"",frontmatter:_t,filepath:"/Users/chun/Develop/software-architecture-explained-with-spring/03-layered.md",start:62,id:4,no:5},__clicksContext:null,__preloaded:!1}),Hr=m("h1",null,"发展-中间件软件",-1),Dr=m("br",null,null,-1),Rr=m("ul",null,[m("li",null,"初始状态：硬件 + 操作系统 + 数据库管理系统 +应用软件"),m("li",null,"程序的共性（稳定）成分：资源管理和服务"),m("li",null,"产生了：中间件（应用服务器）"),m("li",null,"分离出了：业务逻辑")],-1),Nr=m("img",{src:Or,class:"m-10 h-80"},null,-1),jr={__name:"5",setup(t){return B(_t),j(),(e,s)=>(O(),U(Wt,q(V(S(K)(S(_t),4))),{right:L(n=>[Nr]),default:L(()=>[Hr,Dr,Rr]),_:1},16))}},Fr=I(jr,[["__file","/@slidev/slides/5.md"]]),zr="/sa2024/03-layered/assets/03-evol-05-BA-YuExY.png",vt=x({}),Ur=x({layout:g(()=>vt.layout),transition:g(()=>vt.transition),class:g(()=>vt.class),clicks:g(()=>vt.clicks),name:g(()=>vt.name),preload:g(()=>vt.preload),slide:{index:5,content:"",note:"",title:"发展历程",level:1,noteHTML:"",raw:"",frontmatter:vt,filepath:"/Users/chun/Develop/software-architecture-explained-with-spring/03-layered.md",start:80,id:5,no:6},__clicksContext:null,__preloaded:!1}),Wr=m("h1",null,"发展历程",-1),qr=m("br",null,null,-1),Vr=m("img",{src:zr,class:"m-10 h-60"},null,-1),Br=m("p",null,"为控制软件复杂度提取软件的共性成份而沉淀下来的一层软件，屏蔽系统低层的复杂度，在高层保持复杂度的相对稳定",-1),Kr={__name:"6",setup(t){return B(vt),j(),(e,s)=>(O(),U(Dt,q(V(S(K)(S(vt),5))),{default:L(()=>[Wr,qr,Vr,Br]),_:1},16))}},Gr=I(Kr,[["__file","/@slidev/slides/6.md"]]),Zr="/sa2024/03-layered/assets/03-layers-C7eYj5g0.png",yt=x({}),Jr=x({layout:g(()=>yt.layout),transition:g(()=>yt.transition),class:g(()=>yt.class),clicks:g(()=>yt.clicks),name:g(()=>yt.name),preload:g(()=>yt.preload),slide:{index:6,content:"",note:"",title:"分层结构",level:1,noteHTML:"",raw:"",frontmatter:yt,filepath:"/Users/chun/Develop/software-architecture-explained-with-spring/03-layered.md",start:91,id:6,no:7},__clicksContext:null,__preloaded:!1}),Xr=m("h1",null,"分层结构",-1),Yr=m("img",{src:Zr,class:"m-20 h-60"},null,-1),Qr={__name:"7",setup(t){return B(yt),j(),(e,s)=>(O(),U(Dt,q(V(S(K)(S(yt),6))),{default:L(()=>[Xr,Yr]),_:1},16))}},ta=I(Qr,[["__file","/@slidev/slides/7.md"]]),ea="/sa2024/03-layered/assets/03-linux-C9VCsbbM.png",sa="/sa2024/03-layered/assets/03-osi-DOLuLuNm.png",bt=x({layout:"two-cols"}),na=x({layout:g(()=>bt.layout),transition:g(()=>bt.transition),class:g(()=>bt.class),clicks:g(()=>bt.clicks),name:g(()=>bt.name),preload:g(()=>bt.preload),slide:{index:7,content:"",note:"",title:"典型分层设计",level:1,noteHTML:"",raw:"",frontmatter:bt,filepath:"/Users/chun/Develop/software-architecture-explained-with-spring/03-layered.md",start:97,id:7,no:8},__clicksContext:null,__preloaded:!1}),ia=m("h1",null,"典型分层设计",-1),oa=m("img",{src:ea,class:"m-20 h-60"},null,-1),ra=m("p",null,[m("br"),m("br"),m("br"),m("br")],-1),aa=m("img",{src:sa,class:"h-60"},null,-1),la={__name:"8",setup(t){return B(bt),j(),(e,s)=>(O(),U(Wt,q(V(S(K)(S(bt),7))),{right:L(n=>[ra,aa]),default:L(()=>[ia,oa]),_:1},16))}},ca=I(la,[["__file","/@slidev/slides/8.md"]]),ua="/sa2024/03-layered/assets/03-apps-DUcdymS3.png",wt=x({}),ha=x({layout:g(()=>wt.layout),transition:g(()=>wt.transition),class:g(()=>wt.class),clicks:g(()=>wt.clicks),name:g(()=>wt.name),preload:g(()=>wt.preload),slide:{index:8,content:"",note:"",title:"网络协议层",level:1,noteHTML:"",raw:"",frontmatter:wt,filepath:"/Users/chun/Develop/software-architecture-explained-with-spring/03-layered.md",start:114,id:8,no:9},__clicksContext:null,__preloaded:!1}),da=m("h1",null,"网络协议层",-1),fa=m("br",null,null,-1),pa=m("img",{src:ua,class:"m-10 h-80"},null,-1),ga={__name:"9",setup(t){return B(wt),j(),(e,s)=>(O(),U(Dt,q(V(S(K)(S(wt),8))),{default:L(()=>[da,fa,pa]),_:1},16))}},ma=I(ga,[["__file","/@slidev/slides/9.md"]]),_a="/sa2024/03-layered/assets/03-abstraction-DGNEynSK.png",kt=x({layout:"two-cols"}),va=x({layout:g(()=>kt.layout),transition:g(()=>kt.transition),class:g(()=>kt.class),clicks:g(()=>kt.clicks),name:g(()=>kt.name),preload:g(()=>kt.preload),slide:{index:9,content:"",note:"",title:"共性提取",level:1,noteHTML:"",raw:"",frontmatter:kt,filepath:"/Users/chun/Develop/software-architecture-explained-with-spring/03-layered.md",start:122,id:9,no:10},__clicksContext:null,__preloaded:!1}),ya=m("h1",null,"共性提取",-1),ba=m("br",null,null,-1),wa=m("br",null,null,-1),ka=m("ul",null,[m("li",null,"可靠传输"),m("li",null,"无失败传输"),m("li",null,"无错误投递")],-1),xa=m("p",null,[m("br"),m("br"),m("br"),m("br")],-1),Ma=m("img",{src:_a,class:"h-60"},null,-1),Sa={__name:"10",setup(t){return B(kt),j(),(e,s)=>(O(),U(Wt,q(V(S(K)(S(kt),9))),{right:L(n=>[xa,Ma]),default:L(()=>[ya,ba,Me(" “公共功能”需求：对网络假设的相同 "),wa,ka]),_:1},16))}},$a=I(Sa,[["__file","/@slidev/slides/10.md"]]),Pa="/sa2024/03-layered/assets/03-internet-CuxL9Uvj.png",Ca="/sa2024/03-layered/assets/03-ip-BdNkbTbv.png",xt=x({layout:"two-cols"}),Ta=x({layout:g(()=>xt.layout),transition:g(()=>xt.transition),class:g(()=>xt.class),clicks:g(()=>xt.clicks),name:g(()=>xt.name),preload:g(()=>xt.preload),slide:{index:10,content:"",note:"",title:"互联网协议栈设计",level:1,noteHTML:"",raw:"",frontmatter:xt,filepath:"/Users/chun/Develop/software-architecture-explained-with-spring/03-layered.md",start:142,id:10,no:11},__clicksContext:null,__preloaded:!1}),La=m("h1",null,"互联网协议栈设计",-1),Ea=m("img",{src:Pa,class:"m-10 h-60"},null,-1),Aa=m("p",null,[m("br"),m("br")],-1),Oa=m("img",{src:Ca,class:"h-80"},null,-1),Ia={__name:"11",setup(t){return B(xt),j(),(e,s)=>(O(),U(Wt,q(V(S(K)(S(xt),10))),{right:L(n=>[Aa,Oa]),default:L(()=>[La,Ea]),_:1},16))}},Ha=I(Ia,[["__file","/@slidev/slides/11.md"]]),Da="/sa2024/03-layered/assets/03-soc-C7ry2rBq.png",Mt=x({layout:"two-cols"}),Ra=x({layout:g(()=>Mt.layout),transition:g(()=>Mt.transition),class:g(()=>Mt.class),clicks:g(()=>Mt.clicks),name:g(()=>Mt.name),preload:g(()=>Mt.preload),slide:{index:11,content:"",note:"",title:"核心思想",level:1,noteHTML:"",raw:"",frontmatter:Mt,filepath:"/Users/chun/Develop/software-architecture-explained-with-spring/03-layered.md",start:158,id:11,no:12},__clicksContext:null,__preloaded:!1}),Na=m("h1",null,"核心思想",-1),ja=m("ul",null,[m("li",null,[Me("实现了对复杂问题的分步求解 "),m("ul",null,[m("li",null,"自顶向下看：不断的假设过程"),m("li",null,"自底向上看：不断的抽象过程")])]),m("li",null,[Me("各层语义良好 "),m("ul",null,[m("li",null,"具有明确的使用场景"),m("li",null,"提供良好的复用条件")])])],-1),Fa=m("p",null,[m("br"),m("br"),m("img",{src:Da,class:"h-80"})],-1),za={__name:"12",setup(t){return B(Mt),j(),(e,s)=>(O(),U(Wt,q(V(S(K)(S(Mt),11))),{right:L(n=>[Fa]),default:L(()=>[Na,ja]),_:1},16))}},Ua=I(za,[["__file","/@slidev/slides/12.md"]]),Wa="/sa2024/03-layered/assets/03-desktop-CpQyJ1qL.png",St=x({}),qa=x({layout:g(()=>St.layout),transition:g(()=>St.transition),class:g(()=>St.class),clicks:g(()=>St.clicks),name:g(()=>St.name),preload:g(()=>St.preload),slide:{index:12,content:"",note:"",title:"再例如：Desktop Application",level:1,noteHTML:"",raw:"",frontmatter:St,filepath:"/Users/chun/Develop/software-architecture-explained-with-spring/03-layered.md",start:177,id:12,no:13},__clicksContext:null,__preloaded:!1}),Va=m("h1",null,"再例如：Desktop Application",-1),Ba=m("img",{src:Wa,class:"h-90"},null,-1),Ka={__name:"13",setup(t){return B(St),j(),(e,s)=>(O(),U(Dt,q(V(S(K)(S(St),12))),{default:L(()=>[Va,Ba]),_:1},16))}},Ga=I(Ka,[["__file","/@slidev/slides/13.md"]]),Za="/sa2024/03-layered/assets/03-3L-BNLn19kn.png",$t=x({layout:"two-cols"}),Ja=x({layout:g(()=>$t.layout),transition:g(()=>$t.transition),class:g(()=>$t.class),clicks:g(()=>$t.clicks),name:g(()=>$t.name),preload:g(()=>$t.preload),slide:{index:13,content:"",note:"",title:"Three layered",level:1,noteHTML:"",raw:"",frontmatter:$t,filepath:"/Users/chun/Develop/software-architecture-explained-with-spring/03-layered.md",start:184,id:13,no:14},__clicksContext:null,__preloaded:!1}),Xa=m("h1",null,"Three layered",-1),Ya=m("ul",null,[m("li",null,"Data Access Layer is basically the server which stores all the application’s data."),m("li",null,"Business Logic Layer is mainly working as the bridge between Data Access Layer and Presentation Layer."),m("li",null,"Presentation Layer is the layer in which the users interact with an application.")],-1),Qa=m("p",null,[m("br"),m("br")],-1),tl=m("img",{src:Za,class:"h-90"},null,-1),el={__name:"14",setup(t){return B($t),j(),(e,s)=>(O(),U(Wt,q(V(S(K)(S($t),13))),{right:L(n=>[Qa,tl]),default:L(()=>[Xa,Ya]),_:1},16))}},sl=I(el,[["__file","/@slidev/slides/14.md"]]),Pt=x({}),nl=x({layout:g(()=>Pt.layout),transition:g(()=>Pt.transition),class:g(()=>Pt.class),clicks:g(()=>Pt.clicks),name:g(()=>Pt.name),preload:g(()=>Pt.preload),slide:{index:14,content:"",note:"",title:"Some Bad Examples",level:1,noteHTML:"",raw:"",frontmatter:Pt,filepath:"/Users/chun/Develop/software-architecture-explained-with-spring/03-layered.md",start:202,id:14,no:15},__clicksContext:null,__preloaded:!1}),il=m("h1",null,"Some Bad Examples",-1),ol=m("br",null,null,-1),rl=m("ul",null,[m("li",null,[m("p",null,"ssoad/BankingSystem")]),m("li",null,[m("p",null,"xxx/library-management-system")])],-1),al=m("p",null,"…",-1),ll={__name:"15",setup(t){return B(Pt),j(),(e,s)=>(O(),U(Dt,q(V(S(K)(S(Pt),14))),{default:L(()=>[il,ol,rl,al]),_:1},16))}},cl=I(ll,[["__file","/@slidev/slides/15.md"]]),Ct=x({}),ul=x({layout:g(()=>Ct.layout),transition:g(()=>Ct.transition),class:g(()=>Ct.class),clicks:g(()=>Ct.clicks),name:g(()=>Ct.name),preload:g(()=>Ct.preload),slide:{index:15,content:"",note:"",title:"阅读材料",level:1,noteHTML:"",raw:"",frontmatter:Ct,filepath:"/Users/chun/Develop/software-architecture-explained-with-spring/03-layered.md",start:215,id:15,no:16},__clicksContext:null,__preloaded:!1}),hl=m("h1",null,"阅读材料",-1),dl=m("br",null,null,-1),fl=m("p",null,"《Three Layer Architecture in C# .NET》",-1),pl=m("ul",null,[m("li",null,[m("a",{href:"https://www.codeproject.com/Articles/36847/Three-Layer-Architecture-in-C-NET-2",target:"_blank",rel:"noopener"},"https://www.codeproject.com/Articles/36847/Three-Layer-Architecture-in-C-NET-2")])],-1),gl={__name:"16",setup(t){return B(Ct),j(),(e,s)=>(O(),U(Dt,q(V(S(K)(S(Ct),15))),{default:L(()=>[hl,dl,fl,pl]),_:1},16))}},ml=I(gl,[["__file","/@slidev/slides/16.md"]]),F=[{path:"1",name:"page-1",component:er,meta:Xo},{path:"2",name:"page-2",component:fr,meta:or},{path:"3",name:"page-3",component:Mr,meta:vr},{path:"4",name:"page-4",component:Ar,meta:$r},{path:"5",name:"page-5",component:Fr,meta:Ir},{path:"6",name:"page-6",component:Gr,meta:Ur},{path:"7",name:"page-7",component:ta,meta:Jr},{path:"8",name:"page-8",component:ca,meta:na},{path:"9",name:"page-9",component:ma,meta:ha},{path:"10",name:"page-10",component:$a,meta:va},{path:"11",name:"page-11",component:Ha,meta:Ta},{path:"12",name:"page-12",component:Ua,meta:Ra},{path:"13",name:"page-13",component:Ga,meta:qa},{path:"14",name:"page-14",component:sl,meta:Ja},{path:"15",name:"page-15",component:cl,meta:nl},{path:"16",name:"page-16",component:ml,meta:ul}].map(vs),_l=[].map(vs),be=[{name:"play",path:"/",component:()=>ce(()=>import("./slidev/play-B6STyeSD.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])),children:[...F,..._l]},{name:"print",path:"/print",component:()=>ce(()=>import("./slidev/print-FDYn9SRk.js"),__vite__mapDeps([11,1,4,9,6,7,12]))},{path:"",redirect:{path:"/1"}},{path:"/:pathMatch(.*)",redirect:{path:"/1"}}];{let t=function(e){if(!T.remote||T.remote===e.query.password)return!0;if(T.remote&&e.query.password===void 0){const s=prompt("Enter password");if(T.remote===s)return!0}return e.params.no?{path:`/${e.params.no}`}:{path:""}};be.push({path:"/presenter/print",component:()=>ce(()=>import("./slidev/print-D_KPX9ua.js"),__vite__mapDeps([13,1,14,15,6,7]))}),be.push({name:"presenter",path:"/presenter/:no",component:()=>ce(()=>import("./slidev/presenter-Dw2XUbpl.js"),__vite__mapDeps([16,3,1,2,4,5,6,7,8,14,15,17,18,19])),beforeEnter:t}),be.push({path:"/presenter",redirect:{path:"/presenter/1"}})}const Y=pi({history:gi("/sa2024/03-layered/"),routes:be}),An=A(!1);function vl(t,e,{mode:s="replace"}={}){return g({get(){const n=Y.currentRoute.value.query[t];return n==null?e??null:Array.isArray(n)?n.filter(Boolean):n},set(n){le(()=>{Y[S(s)]({query:{...Y.currentRoute.value.query,[t]:n}})})}})}var yl=Object.defineProperty,qs=Object.getOwnPropertySymbols,bl=Object.prototype.hasOwnProperty,wl=Object.prototype.propertyIsEnumerable,Vs=(t,e,s)=>e in t?yl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,ss=(t,e)=>{for(var s in e||(e={}))bl.call(e,s)&&Vs(t,s,e[s]);if(qs)for(var s of qs(e))wl.call(e,s)&&Vs(t,s,e[s]);return t},kl=()=>({emit(t,...e){for(let s=0,n=this.events[t]||[],i=n.length;s<i;s++)n[s](...e)},events:{},on(t,e){var s;return((s=this.events)[t]||(s[t]=[])).push(e),()=>{var n;this.events[t]=(n=this.events[t])==null?void 0:n.filter(i=>e!==i)}}});function Bs(t,e,s,n=i=>i){return t*n(.5-e*(.5-s))}function xl(t){return[-t[0],-t[1]]}function at(t,e){return[t[0]+e[0],t[1]+e[1]]}function et(t,e){return[t[0]-e[0],t[1]-e[1]]}function rt(t,e){return[t[0]*e,t[1]*e]}function Ml(t,e){return[t[0]/e,t[1]/e]}function ee(t){return[t[1],-t[0]]}function Ks(t,e){return t[0]*e[0]+t[1]*e[1]}function Sl(t,e){return t[0]===e[0]&&t[1]===e[1]}function $l(t){return Math.hypot(t[0],t[1])}function Pl(t){return t[0]*t[0]+t[1]*t[1]}function Gs(t,e){return Pl(et(t,e))}function On(t){return Ml(t,$l(t))}function Cl(t,e){return Math.hypot(t[1]-e[1],t[0]-e[0])}function se(t,e,s){let n=Math.sin(s),i=Math.cos(s),o=t[0]-e[0],a=t[1]-e[1],r=o*i-a*n,l=o*n+a*i;return[r+e[0],l+e[1]]}function ns(t,e,s){return at(t,rt(et(e,t),s))}function Zs(t,e,s){return at(t,rt(e,s))}var{min:Vt,PI:Tl}=Math,Js=.275,ne=Tl+1e-4;function Ll(t,e={}){let{size:s=16,smoothing:n=.5,thinning:i=.5,simulatePressure:o=!0,easing:a=k=>k,start:r={},end:l={},last:c=!1}=e,{cap:u=!0,easing:h=k=>k*(2-k)}=r,{cap:f=!0,easing:d=k=>--k*k*k+1}=l;if(t.length===0||s<=0)return[];let p=t[t.length-1].runningLength,_=r.taper===!1?0:r.taper===!0?Math.max(s,p):r.taper,v=l.taper===!1?0:l.taper===!0?Math.max(s,p):l.taper,y=Math.pow(s*n,2),w=[],M=[],N=t.slice(0,10).reduce((k,D)=>{let P=D.pressure;if(o){let C=Vt(1,D.distance/s),je=Vt(1,1-C);P=Vt(1,k+(je-k)*(C*Js))}return(k+P)/2},t[0].pressure),E=Bs(s,i,t[t.length-1].pressure,a),ht,Lt=t[0].vector,Q=t[0].point,nt=Q,lt=Q,ct=nt,W=!1;for(let k=0;k<t.length;k++){let{pressure:D}=t[k],{point:P,vector:C,distance:je,runningLength:Xt}=t[k];if(k<t.length-1&&p-Xt<3)continue;if(i){if(o){let At=Vt(1,je/s),ze=Vt(1,1-At);D=Vt(1,N+(ze-N)*(At*Js))}E=Bs(s,i,D,a)}else E=s/2;ht===void 0&&(ht=E);let Yn=Xt<_?h(Xt/_):1,Qn=p-Xt<v?d((p-Xt)/v):1;E=Math.max(.01,E*Math.min(Yn,Qn));let Es=(k<t.length-1?t[k+1]:t[k]).vector,Fe=k<t.length-1?Ks(C,Es):1,ti=Ks(C,Lt)<0&&!W,As=Fe!==null&&Fe<0;if(ti||As){let At=rt(ee(Lt),E);for(let ze=1/13,fe=0;fe<=1;fe+=ze)lt=se(et(P,At),P,ne*fe),w.push(lt),ct=se(at(P,At),P,ne*-fe),M.push(ct);Q=lt,nt=ct,As&&(W=!0);continue}if(W=!1,k===t.length-1){let At=rt(ee(C),E);w.push(et(P,At)),M.push(at(P,At));continue}let Os=rt(ee(ns(Es,C,Fe)),E);lt=et(P,Os),(k<=1||Gs(Q,lt)>y)&&(w.push(lt),Q=lt),ct=at(P,Os),(k<=1||Gs(nt,ct)>y)&&(M.push(ct),nt=ct),N=D,Lt=C}let $=t[0].point.slice(0,2),H=t.length>1?t[t.length-1].point.slice(0,2):at(t[0].point,[1,1]),Et=[],it=[];if(t.length===1){if(!(_||v)||c){let k=Zs($,On(ee(et($,H))),-(ht||E)),D=[];for(let P=1/13,C=P;C<=1;C+=P)D.push(se(k,$,ne*2*C));return D}}else{if(!(_||v&&t.length===1))if(u)for(let D=1/13,P=D;P<=1;P+=D){let C=se(M[0],$,ne*P);Et.push(C)}else{let D=et(w[0],M[0]),P=rt(D,.5),C=rt(D,.51);Et.push(et($,P),et($,C),at($,C),at($,P))}let k=ee(xl(t[t.length-1].vector));if(v||_&&t.length===1)it.push(H);else if(f){let D=Zs(H,k,E);for(let P=1/29,C=P;C<1;C+=P)it.push(se(D,H,ne*3*C))}else it.push(at(H,rt(k,E)),at(H,rt(k,E*.99)),et(H,rt(k,E*.99)),et(H,rt(k,E)))}return w.concat(it,M.reverse(),Et)}function El(t,e={}){var s;let{streamline:n=.5,size:i=16,last:o=!1}=e;if(t.length===0)return[];let a=.15+(1-n)*.85,r=Array.isArray(t[0])?t:t.map(({x:d,y:p,pressure:_=.5})=>[d,p,_]);if(r.length===2){let d=r[1];r=r.slice(0,-1);for(let p=1;p<5;p++)r.push(ns(r[0],d,p/4))}r.length===1&&(r=[...r,[...at(r[0],[1,1]),...r[0].slice(2)]]);let l=[{point:[r[0][0],r[0][1]],pressure:r[0][2]>=0?r[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],c=!1,u=0,h=l[0],f=r.length-1;for(let d=1;d<r.length;d++){let p=o&&d===f?r[d].slice(0,2):ns(h.point,r[d],a);if(Sl(h.point,p))continue;let _=Cl(p,h.point);if(u+=_,d<f&&!c){if(u<i)continue;c=!0}h={point:p,pressure:r[d][2]>=0?r[d][2]:.5,vector:On(et(h.point,p)),distance:_,runningLength:u},l.push(h)}return l[0].vector=((s=l[1])==null?void 0:s.vector)||[0,0],l}function Al(t,e={}){return Ll(El(t,e),e)}function Pe(t,e){return t-e}function Ol(t){return t<0?-1:1}function Ce(t){return[Math.abs(t),Ol(t)]}function In(){const t=()=>((1+Math.random())*65536|0).toString(16).substring(1);return`${t()+t()}-${t()}-${t()}-${t()}-${t()}${t()}${t()}`}var Il=2,dt=Il,Jt=class{constructor(t){this.drauu=t,this.event=void 0,this.point=void 0,this.start=void 0,this.el=null}onSelected(t){}onUnselected(){}onStart(t){}onMove(t){return!1}onEnd(t){}get brush(){return this.drauu.brush}get shiftPressed(){return this.drauu.shiftPressed}get altPressed(){return this.drauu.altPressed}get svgElement(){return this.drauu.el}getMousePosition(t){var e,s,n;const i=this.drauu.el,o=(e=this.drauu.options.coordinateScale)!=null?e:1,a=(s=this.drauu.options.offset)!=null?s:{x:0,y:0};if(this.drauu.options.coordinateTransform===!1){const r=this.drauu.el.getBoundingClientRect();return{x:(t.pageX-r.left+a.x)*o,y:(t.pageY-r.top+a.y)*o,pressure:t.pressure}}else{const r=this.drauu.svgPoint;r.x=t.clientX+a.x,r.y=t.clientY+a.y;const l=r.matrixTransform((n=i.getScreenCTM())==null?void 0:n.inverse());return{x:l.x*o,y:l.y*o,pressure:t.pressure}}}createElement(t,e){var s;const n=document.createElementNS("http://www.w3.org/2000/svg",t),i=e?ss(ss({},this.brush),e):this.brush;return n.setAttribute("fill",(s=i.fill)!=null?s:"transparent"),n.setAttribute("stroke",i.color),n.setAttribute("stroke-width",i.size.toString()),n.setAttribute("stroke-linecap","round"),i.dasharray&&n.setAttribute("stroke-dasharray",i.dasharray),n}attr(t,e){this.el.setAttribute(t,typeof e=="string"?e:e.toFixed(dt))}_setEvent(t){this.event=t,this.point=this.getMousePosition(t)}_eventDown(t){return this._setEvent(t),this.start=this.point,this.onStart(this.point)}_eventMove(t){return this._setEvent(t),this.onMove(this.point)}_eventUp(t){return this._setEvent(t),this.onEnd(this.point)}},Hl=class Hn extends Jt{constructor(){super(...arguments),this.points=[]}onStart(e){return this.el=document.createElementNS("http://www.w3.org/2000/svg","path"),this.points=[e],this.attr("fill",this.brush.color),this.attr("d",this.getSvgData(this.points)),this.el}onMove(e){return this.el||this.onStart(e),this.points[this.points.length-1]!==e&&this.points.push(e),this.attr("d",this.getSvgData(this.points)),!0}onEnd(){const e=this.el;return this.el=null,!!e}getSvgData(e){return Hn.getSvgData(e,this.brush)}static getSvgData(e,s){const n=Al(e,ss({size:s.size,thinning:.9,simulatePressure:!1,start:{taper:5},end:{taper:5}},s.stylusOptions));if(!n.length)return"";const i=n.reduce((o,[a,r],l,c)=>{const[u,h]=c[(l+1)%c.length];return o.push(a,r,(a+u)/2,(r+h)/2),o},["M",...n[0],"Q"]);return i.push("Z"),i.map(o=>typeof o=="number"?o.toFixed(2):o).join(" ")}},Dl=class extends Jt{onStart(t){return this.el=this.createElement("ellipse"),this.attr("cx",t.x),this.attr("cy",t.y),this.el}onMove(t){if(!this.el||!this.start)return!1;let[e,s]=Ce(t.x-this.start.x),[n,i]=Ce(t.y-this.start.y);if(this.shiftPressed){const o=Math.min(e,n);e=o,n=o}if(this.altPressed)this.attr("cx",this.start.x),this.attr("cy",this.start.y),this.attr("rx",e),this.attr("ry",n);else{const[o,a]=[this.start.x,this.start.x+e*s].sort(Pe),[r,l]=[this.start.y,this.start.y+n*i].sort(Pe);this.attr("cx",(o+a)/2),this.attr("cy",(r+l)/2),this.attr("rx",(a-o)/2),this.attr("ry",(l-r)/2)}return!0}onEnd(){const t=this.el;return this.el=null,!(!t||!t.getTotalLength())}};function Dn(t,e){const s=document.createElementNS("http://www.w3.org/2000/svg","defs"),n=document.createElementNS("http://www.w3.org/2000/svg","marker"),i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("fill",e),n.setAttribute("id",t),n.setAttribute("viewBox","0 -5 10 10"),n.setAttribute("refX","5"),n.setAttribute("refY","0"),n.setAttribute("markerWidth","4"),n.setAttribute("markerHeight","4"),n.setAttribute("orient","auto"),i.setAttribute("d","M0,-5L10,0L0,5"),n.appendChild(i),s.appendChild(n),s}var Rl=class extends Jt{onStart(t){if(this.el=this.createElement("line",{fill:"transparent"}),this.attr("x1",t.x),this.attr("y1",t.y),this.attr("x2",t.x),this.attr("y2",t.y),this.brush.arrowEnd){const e=In(),s=document.createElementNS("http://www.w3.org/2000/svg","g");return s.append(Dn(e,this.brush.color)),s.append(this.el),this.attr("marker-end",`url(#${e})`),s}return this.el}onMove(t){if(!this.el)return!1;let{x:e,y:s}=t;if(this.shiftPressed){const n=t.x-this.start.x,i=t.y-this.start.y;if(i!==0){let o=n/i;o=Math.round(o),Math.abs(o)<=1?(e=this.start.x+i*o,s=this.start.y+i):(e=this.start.x+n,s=this.start.y)}}return this.altPressed?(this.attr("x1",this.start.x*2-e),this.attr("y1",this.start.y*2-s),this.attr("x2",e),this.attr("y2",s)):(this.attr("x1",this.start.x),this.attr("y1",this.start.y),this.attr("x2",e),this.attr("y2",s)),!0}onEnd(){const t=this.el;return this.el=null,!(!t||t.getTotalLength()<5)}},Nl=class extends Jt{onStart(t){return this.el=this.createElement("rect"),this.brush.cornerRadius&&(this.attr("rx",this.brush.cornerRadius),this.attr("ry",this.brush.cornerRadius)),this.attr("x",t.x),this.attr("y",t.y),this.el}onMove(t){if(!this.el||!this.start)return!1;let[e,s]=Ce(t.x-this.start.x),[n,i]=Ce(t.y-this.start.y);if(this.shiftPressed){const o=Math.min(e,n);e=o,n=o}if(this.altPressed)this.attr("x",this.start.x-e),this.attr("y",this.start.y-n),this.attr("width",e*2),this.attr("height",n*2);else{const[o,a]=[this.start.x,this.start.x+e*s].sort(Pe),[r,l]=[this.start.y,this.start.y+n*i].sort(Pe);this.attr("x",o),this.attr("y",r),this.attr("width",a-o),this.attr("height",l-r)}return!0}onEnd(){const t=this.el;return this.el=null,!(!t||!t.getTotalLength())}};function jl(t,e){const s=t.x-e.x,n=t.y-e.y;return s*s+n*n}function Fl(t,e,s){let n=e.x,i=e.y,o=s.x-n,a=s.y-i;if(o!==0||a!==0){const r=((t.x-n)*o+(t.y-i)*a)/(o*o+a*a);r>1?(n=s.x,i=s.y):r>0&&(n+=o*r,i+=a*r)}return o=t.x-n,a=t.y-i,o*o+a*a}function zl(t,e){let s=t[0];const n=[s];let i;for(let o=1,a=t.length;o<a;o++)i=t[o],jl(i,s)>e&&(n.push(i),s=i);return s!==i&&i&&n.push(i),n}function is(t,e,s,n,i){let o=n,a=0;for(let r=e+1;r<s;r++){const l=Fl(t[r],t[e],t[s]);l>o&&(a=r,o=l)}o>n&&(a-e>1&&is(t,e,a,n,i),i.push(t[a]),s-a>1&&is(t,a,s,n,i))}function Ul(t,e){const s=t.length-1,n=[t[0]];return is(t,0,s,e,n),n.push(t[s]),n}function Xs(t,e,s=!1){if(t.length<=2)return t;const n=e!==void 0?e*e:1;return t=s?t:zl(t,n),t=Ul(t,n),t}var Wl=class Nt extends Jt{constructor(){super(...arguments),this.points=[],this.count=0}onStart(e){if(this.el=this.createElement("path",{fill:"transparent"}),this.points=[e],this.brush.arrowEnd){this.arrowId=In();const s=Dn(this.arrowId,this.brush.color);this.el.appendChild(s)}return this.el}onMove(e){return this.el||this.onStart(e),this.points[this.points.length-1]!==e&&(this.points.push(e),this.count+=1),this.count>5&&(this.points=Xs(this.points,1,!0),this.count=0),this.attr("d",Nt.toSvgData(this.points)),!0}onEnd(){const e=this.el;return this.el=null,!(!e||(e.setAttribute("d",Nt.toSvgData(Xs(this.points,1,!0))),!e.getTotalLength()))}static line(e,s){const n=s.x-e.x,i=s.y-e.y;return{length:Math.sqrt(n**2+i**2),angle:Math.atan2(i,n)}}static controlPoint(e,s,n,i){const o=s||e,a=n||e,r=.2,l=Nt.line(o,a),c=l.angle+(i?Math.PI:0),u=l.length*r,h=e.x+Math.cos(c)*u,f=e.y+Math.sin(c)*u;return{x:h,y:f}}static bezierCommand(e,s,n){const i=Nt.controlPoint(n[s-1],n[s-2],e),o=Nt.controlPoint(e,n[s-1],n[s+1],!0);return`C ${i.x.toFixed(dt)},${i.y.toFixed(dt)} ${o.x.toFixed(dt)},${o.y.toFixed(dt)} ${e.x.toFixed(dt)},${e.y.toFixed(dt)}`}static toSvgData(e){return e.reduce((s,n,i,o)=>i===0?`M ${n.x.toFixed(dt)},${n.y.toFixed(dt)}`:`${s} ${Nt.bezierCommand(n,i,o)}`,"")}},ql=class extends Jt{constructor(){super(...arguments),this.pathSubFactor=20,this.pathFragments=[],this._erased=[]}onSelected(t){const e=(s,n)=>{if(s&&s.length)for(let i=0;i<s.length;i++){const o=s[i];if(o.getTotalLength){const a=o.getTotalLength();for(let r=0;r<this.pathSubFactor;r++){const l=o.getPointAtLength(a*r/this.pathSubFactor),c=o.getPointAtLength(a*(r+1)/this.pathSubFactor);this.pathFragments.push({x1:l.x,x2:c.x,y1:l.y,y2:c.y,segment:r,element:n||o})}}else o.children&&e(o.children,o)}};t&&e(t.children)}onUnselected(){this.pathFragments=[]}onStart(t){this.svgPointPrevious=this.svgElement.createSVGPoint(),this.svgPointPrevious.x=t.x,this.svgPointPrevious.y=t.y}onMove(t){this.svgPointCurrent=this.svgElement.createSVGPoint(),this.svgPointCurrent.x=t.x,this.svgPointCurrent.y=t.y;const e=this.checkAndEraseElement();return this.svgPointPrevious=this.svgPointCurrent,e}onEnd(){this.svgPointPrevious=void 0,this.svgPointCurrent=void 0;const t=this._erased;return this._erased=[],{undo:()=>t.forEach(e=>this.drauu._restoreNode(e)),redo:()=>t.forEach(e=>this.drauu._removeNode(e))}}checkAndEraseElement(){if(this.pathFragments.length)for(let t=0;t<this.pathFragments.length;t++){const e=this.pathFragments[t],s={x1:this.svgPointPrevious.x,x2:this.svgPointCurrent.x,y1:this.svgPointPrevious.y,y2:this.svgPointCurrent.y};this.lineLineIntersect(e,s)&&(this.drauu._removeNode(e.element),this._erased.push(e.element))}return this._erased.length&&(this.pathFragments=this.pathFragments.filter(t=>!this._erased.includes(t.element))),this._erased.length>0}lineLineIntersect(t,e){const s=t.x1,n=t.x2,i=e.x1,o=e.x2,a=t.y1,r=t.y2,l=e.y1,c=e.y2,u=(s-n)*(l-c)-(a-r)*(i-o),h=(s*r-a*n)*(i-o)-(s-n)*(i*c-l*o),f=(s*r-a*n)*(l-c)-(a-r)*(i*c-l*o),d=(p,_,v)=>p>=_&&p<=v?!0:p>=v&&p<=_;if(u===0)return!1;{const p={x:h/u,y:f/u};return d(p.x,s,n)&&d(p.y,a,r)&&d(p.x,i,o)&&d(p.y,l,c)}}};function Vl(t){return{draw:new Wl(t),stylus:new Hl(t),line:new Rl(t),rectangle:new Nl(t),ellipse:new Dl(t),eraseLine:new ql(t)}}var Bl=class{constructor(t={}){this.options=t,this.el=null,this.svgPoint=null,this.eventEl=null,this.shiftPressed=!1,this.altPressed=!1,this.drawing=!1,this._emitter=kl(),this._originalPointerId=null,this._models=Vl(this),this._opStack=[],this._opIndex=0,this._disposables=[],this._elements=[],this.options.brush||(this.options.brush={color:"black",size:3,mode:"stylus"}),t.el&&this.mount(t.el,t.eventTarget,t.window)}get model(){return this._models[this.mode]}get mounted(){return!!this.el}get mode(){return this.options.brush.mode||"stylus"}set mode(t){this._models[this.mode].onUnselected(),this.options.brush.mode=t,this.model.onSelected(this.el)}get brush(){return this.options.brush}set brush(t){this.options.brush=t}resolveSelector(t){return typeof t=="string"?document.querySelector(t):t||null}mount(t,e,s=window){if(this.el)throw new Error("[drauu] already mounted, unmount previous target first");if(this.el=this.resolveSelector(t),!this.el)throw new Error("[drauu] target element not found");if(this.el.tagName.toLocaleLowerCase()!=="svg")throw new Error("[drauu] can only mount to a SVG element");if(!this.el.createSVGPoint)throw new Error("[drauu] SVG element must be create by document.createElementNS('http://www.w3.org/2000/svg', 'svg')");this.svgPoint=this.el.createSVGPoint();const n=this.resolveSelector(e)||this.el,i=this.eventStart.bind(this),o=this.eventMove.bind(this),a=this.eventEnd.bind(this),r=this.eventKeyboard.bind(this);n.addEventListener("pointerdown",i,{passive:!1}),s.addEventListener("pointermove",o,{passive:!1}),s.addEventListener("pointerup",a,{passive:!1}),s.addEventListener("pointercancel",a,{passive:!1}),s.addEventListener("keydown",r,!1),s.addEventListener("keyup",r,!1),this._disposables.push(()=>{n.removeEventListener("pointerdown",i),s.removeEventListener("pointermove",o),s.removeEventListener("pointerup",a),s.removeEventListener("pointercancel",a),s.removeEventListener("keydown",r,!1),s.removeEventListener("keyup",r,!1)}),this._emitter.emit("mounted")}unmount(){this._disposables.forEach(t=>t()),this._disposables.length=0,this._elements.length=0,this.el=null,this._emitter.emit("unmounted")}on(t,e){return this._emitter.on(t,e)}undo(){return!this.canUndo()||this.drawing?!1:(this._opStack[--this._opIndex].undo(),this._emitter.emit("changed"),!0)}redo(){return!this.canRedo()||this.drawing?!1:(this._opStack[this._opIndex++].redo(),this._emitter.emit("changed"),!0)}canRedo(){return this._opIndex<this._opStack.length}canUndo(){return this._opIndex>0}eventMove(t){!this.acceptsInput(t)||!this.drawing||this.model._eventMove(t)&&(t.stopPropagation(),t.preventDefault(),this._emitter.emit("changed"))}eventStart(t){this.acceptsInput(t)&&(t.stopPropagation(),t.preventDefault(),this._currentNode&&this.cancel(),this.drawing=!0,this._originalPointerId=t.pointerId,this._emitter.emit("start"),this._currentNode=this.model._eventDown(t),this._currentNode&&this.mode!=="eraseLine"&&this.el.appendChild(this._currentNode),this._emitter.emit("changed"))}eventEnd(t){if(!this.acceptsInput(t)||!this.drawing)return;const e=this.model._eventUp(t);if(!e)this.cancel();else if(e===!0){const s=this._currentNode;this._appendNode(s),this.commit({undo:()=>this._removeNode(s),redo:()=>this._restoreNode(s)})}else this.commit(e);this.drawing=!1,this._emitter.emit("end"),this._emitter.emit("changed"),this._originalPointerId=null}acceptsInput(t){return(!this.options.acceptsInputTypes||this.options.acceptsInputTypes.includes(t.pointerType))&&!(this._originalPointerId&&this._originalPointerId!==t.pointerId)}eventKeyboard(t){this.shiftPressed===t.shiftKey&&this.altPressed===t.altKey||(this.shiftPressed=t.shiftKey,this.altPressed=t.altKey,this.model.point&&this.model.onMove(this.model.point)&&this._emitter.emit("changed"))}commit(t){this._opStack.length=this._opIndex,this._opStack.push(t),this._opIndex++;const e=this._currentNode;this._currentNode=void 0,this._emitter.emit("committed",e)}clear(){this._opStack.length=0,this._opIndex=0,this.cancel(),this.el.innerHTML="",this._emitter.emit("changed")}cancel(){this._currentNode&&(this.el.removeChild(this._currentNode),this._currentNode=void 0,this._emitter.emit("canceled"))}dump(){return this.el.innerHTML}load(t){this.clear(),this.el.innerHTML=t}_appendNode(t){const e=this._elements.at(-1);e?e.after(t):this.el.append(t);const s=this._elements.push(t)-1;t.dataset.drauu_index=s.toString()}_removeNode(t){t.remove(),this._elements[+t.dataset.drauu_index]=null}_restoreNode(t){const e=+t.dataset.drauu_index;this._elements[e]=t;for(let s=e-1;s>=0;s--){const n=this._elements[s];if(n){n.after(t);return}}this.el.prepend(t)}};function Kl(t){return new Bl(t)}const gu=A(!1),mu=A(!1),_u=A(!1),Gl=A(!1),vu=A(!0),yu=mi({xs:460,...wi}),Ys=_i(),bu=vi(),wu=g(()=>Ys.height.value-Ys.width.value/wn>120),ku=yi(He?document.body:null),os=bi(),Zl=g(()=>{var t,e;return["INPUT","TEXTAREA"].includes(((t=os.value)==null?void 0:t.tagName)||"")||((e=os.value)==null?void 0:e.classList.contains("CodeMirror-code"))}),xu=g(()=>{var t;return["BUTTON","A"].includes(((t=os.value)==null?void 0:t.tagName)||"")});J("slidev-camera","default",{listenToStorageChanges:!1});J("slidev-mic","default",{listenToStorageChanges:!1});const Mu=J("slidev-scale",0),Su=J("slidev-presenter-cursor",!0,{listenToStorageChanges:!1}),$u=J("slidev-show-editor",!1,{listenToStorageChanges:!1}),Pu=J("slidev-editor-vertical",!1,{listenToStorageChanges:!1});J("slidev-editor-width",He?window.innerWidth*.4:318,{listenToStorageChanges:!1});J("slidev-editor-height",He?window.innerHeight*.4:300,{listenToStorageChanges:!1});const Te=J("slidev-presenter-font-size",1,{listenToStorageChanges:!1}),pe=J("slidev-presenter-layout",1,{listenToStorageChanges:!1});function Cu(){pe.value=pe.value+1,pe.value>2&&(pe.value=1)}function Tu(){Te.value=Math.min(2,Te.value+.1)}function Lu(){Te.value=Math.max(.5,Te.value-.1)}const Eu=fn(Gl),rs=["#ff595e","#ffca3a","#8ac926","#1982c4","#6a4c93","#ffffff","#000000"],as=J("slidev-drawing-enabled",!1),Au=J("slidev-drawing-pinned",!1),Jl=A(!1),Xl=A(!1),Yl=A(!1),Le=A(!1),Ee=ki(J("slidev-drawing-brush",{color:rs[0],size:4,mode:"stylus"})),Qs=A("stylus"),Rn=g(()=>T.drawings.syncAll||Ft.value);let ue=!1;const ie=g({get(){return Qs.value},set(t){Qs.value=t,t==="arrow"?(z.mode="line",Ee.arrowEnd=!0):(z.mode=t,Ee.arrowEnd=!1)}}),Ql=x({brush:Ee,acceptsInputTypes:g(()=>as.value&&(!T.drawings.presenterOnly||Ft.value)?void 0:["pen"]),coordinateTransform:!1}),z=vs(Kl(Ql));function tc(){z.clear(),Rn.value&&Mn(R.value,"")}function ws(){var t;Xl.value=z.canRedo(),Jl.value=z.canUndo(),Yl.value=!!((t=z.el)!=null&&t.children.length)}function ec(t){ue=!0;const e=Sn[t||R.value];e!=null?z.load(e):z.clear(),ws(),ue=!1}z.on("changed",()=>{if(ws(),!ue){const t=z.dump(),e=R.value;(Sn[e]||"")!==t&&Rn.value&&Mn(e,z.dump())}});Ho(t=>{ue=!0,t[R.value]!=null&&z.load(t[R.value]||""),ue=!1,ws()});le(()=>{Zt(R,()=>{z.mounted&&ec()},{immediate:!0})});z.on("start",()=>Le.value=!0);z.on("end",()=>Le.value=!1);window.addEventListener("keydown",t=>{if(!as.value||Zl.value)return;const e=!t.ctrlKey&&!t.altKey&&!t.shiftKey&&!t.metaKey;let s=!0;t.code==="KeyZ"&&(t.ctrlKey||t.metaKey)?t.shiftKey?z.redo():z.undo():t.code==="Escape"?as.value=!1:t.code==="KeyL"&&e?ie.value="line":t.code==="KeyA"&&e?ie.value="arrow":t.code==="KeyS"&&e?ie.value="stylus":t.code==="KeyR"&&e?ie.value="rectangle":t.code==="KeyE"&&e?ie.value="ellipse":t.code==="KeyC"&&e?tc():t.code.startsWith("Digit")&&e&&+t.code[5]<=rs.length?Ee.color=rs[+t.code[5]-1]:s=!1,s&&(t.preventDefault(),t.stopPropagation())},!1);const ls=A(0);le(()=>{Y.afterEach(async()=>{await le(),ls.value+=1})});const Nn=A(0),De=A(0),ut=g(()=>Y.currentRoute.value),sc=g(()=>ut.value.query.print!==void 0),nc=g(()=>ut.value.query.print==="clicks"),Ou=g(()=>ut.value.query.embedded!==void 0),Ft=g(()=>ut.value.path.startsWith("/presenter")),ic=g(()=>ut.value.path.startsWith("/notes")),oc=g(()=>ut.value.query.password),Iu=g(()=>!Ft.value&&(!T.remote||oc.value===T.remote)),tn=vl("clicks","0"),Gt=g({get(){if(It.value.disabled)return es;let t=+(tn.value||0);return Number.isNaN(t)&&(t=0),t},set(t){tn.value=t.toString()}}),Hu=g(()=>F.length),rc=g(()=>ut.value.path),R=g(()=>Number.parseInt(rc.value.split(/\//g).slice(-1)[0])||1);g(()=>Re(R.value));const Tt=g(()=>F.find(t=>t.path===`${R.value}`)),Du=g(()=>{var t,e,s;return(s=(e=(t=Tt.value)==null?void 0:t.meta)==null?void 0:e.slide)==null?void 0:s.id});g(()=>{var t,e;return((e=(t=Tt.value)==null?void 0:t.meta)==null?void 0:e.layout)||(R.value===1?"cover":"default")});const Ru=g(()=>F.find(t=>t.path===`${Math.min(F.length,R.value+1)}`)),ac=g(()=>F.find(t=>t.path===`${Math.max(1,R.value-1)}`)),It=g(()=>qo(Tt.value)),ks=g(()=>It.value.current),he=g(()=>It.value.total),Nu=g(()=>R.value<F.length||ks.value<he.value),ju=g(()=>R.value>1||ks.value>0),lc=g(()=>F.filter(t=>{var e,s;return(s=(e=t.meta)==null?void 0:e.slide)==null?void 0:s.title}).reduce((t,e)=>($s(t,e),t),[])),cc=g(()=>Ps(lc.value,Tt.value));g(()=>Cs(cc.value));const Fu=g(()=>pc(Nn.value,Tt.value,ac.value));Zt(Tt,(t,e)=>{Nn.value=Number(t==null?void 0:t.path)-Number(e==null?void 0:e.path)});async function jn(){De.value=1,he.value<=Gt.value?await xs():Gt.value+=1}async function Fn(){De.value=-1,Gt.value<=0?await Ms():Gt.value-=1}function Re(t){return Ft.value?`/presenter/${t}`:`/${t}`}async function xs(){De.value=1,R.value<F.length&&await Ss(R.value+1)}async function Ms(t=!0){De.value=-1;const e=Math.max(1,R.value-1);await Ss(e),t&&he.value&&Y.replace({query:{...ut.value.query,clicks:he.value}})}function Ss(t,e){return An.value=!1,Y.push({path:Re(t),query:{...ut.value.query,clicks:e}})}function zu(t){const e=A(0),{direction:s,distanceX:n,distanceY:i}=xi(t,{pointerTypes:["touch"],onSwipeStart(){Le.value||(e.value=Mi())},onSwipeEnd(){if(!e.value||Le.value)return;const o=Math.abs(n.value),a=Math.abs(i.value);o/window.innerWidth>.3||o>75?s.value==="left"?jn():Fn():(a/window.innerHeight>.4||a>200)&&(s.value==="down"?Ms():xs())}})}async function uc(){const{saveAs:t}=await ce(()=>import("./modules/file-saver-CvNQQnEe.js").then(e=>e.F),__vite__mapDeps([]));t(typeof T.download=="string"?T.download:T.exportFilename?`${T.exportFilename}.pdf`:"/sa2024/03-layered/slidev-exported.pdf",`${T.title}.pdf`)}async function hc(t){var e,s;if(t==null){const n=(s=(e=Tt.value)==null?void 0:e.meta)==null?void 0:s.slide;if(!n)return!1;t=`${n.filepath}:${n.start}`}return await fetch(`/__open-in-editor?file=${encodeURIComponent(t)}`),!0}function $s(t,e,s=1){var i,o,a,r,l,c,u;const n=(o=(i=e.meta)==null?void 0:i.slide)==null?void 0:o.level;n&&n>s&&t.length>0?$s(t[t.length-1].children,e,s+1):t.push({children:[],level:s,path:e.path,hideInToc:!!((l=(r=(a=e.meta)==null?void 0:a.slide)==null?void 0:r.frontmatter)!=null&&l.hideInToc),title:(u=(c=e.meta)==null?void 0:c.slide)==null?void 0:u.title})}function Ps(t,e,s=!1,n){return t.map(i=>{const o={...i,active:i.path===(e==null?void 0:e.path),hasActiveParent:s};return o.children.length>0&&(o.children=Ps(o.children,e,o.active||o.hasActiveParent,o)),n&&(o.active||o.activeParent)&&(n.activeParent=!0),o})}function Cs(t,e=1){return t.filter(s=>!s.hideInToc).map(s=>({...s,children:Cs(s.children,e+1)}))}const dc={"slide-left":"slide-left | slide-right","slide-right":"slide-right | slide-left","slide-up":"slide-up | slide-down","slide-down":"slide-down | slide-up"};function fc(t,e=!1){if(!t||(typeof t=="string"&&(t={name:t}),!t.name))return;let s=t.name.includes("|")?t.name:dc[t.name]||t.name;if(s.includes("|")){const[n,i]=s.split("|").map(o=>o.trim());s=e?i:n}if(s)return{...t,name:s}}function pc(t,e,s){var i,o;let n=t>0?(i=s==null?void 0:s.meta)==null?void 0:i.transition:(o=e==null?void 0:e.meta)==null?void 0:o.transition;return n||(n=T.transition),fc(n,t<0)}function gc(){const t=T.titleTemplate.replace("%s",T.title||"Slidev");yo({title:t,htmlAttrs:T.htmlAttrs}),Lo(`${t} - shared`),Io(`${t} - drawings`);const e=`${location.origin}_${No()}`;function s(){ic.value||!Ft.value&&!Uo.includes(location.host.split(":")[0])||(Ft.value?(Yt("page",+R.value),Yt("clicks",It.value.current)):(Yt("viewerPage",+R.value),Yt("viewerClicks",It.value.current)),Yt("lastUpdate",{id:e,type:Ft.value?"presenter":"viewer",time:new Date().getTime()}))}Y.afterEach(s),Zt(It,s),Eo(n=>{var o;Y.currentRoute.value.path.match(/^\/(\d+|presenter)\/?/)&&((o=n.lastUpdate)==null?void 0:o.type)==="presenter"&&(+n.page!=+R.value||+It.value.current!=+n.clicks)&&(An.value=!1,Y.replace({path:Re(n.page),query:{...Y.currentRoute.value.query,clicks:n.clicks||0}}))})}const mc=ms({__name:"App",setup(t){return gc(),Kt(()=>{for(const[e,s]of Object.entries(Po.value))document.body.style.setProperty(e,s.toString())}),(e,s)=>{const n=Si("RouterView");return O(),U(n)}}}),_c=I(mc,[["__file","/opt/homebrew/lib/node_modules/@slidev/cli/node_modules/@slidev/client/App.vue"]]);function vc(t){function e(){document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`)}e(),window.addEventListener("resize",e),t.app.use($i),t.app.use(Ti)}function zn(t,e,s){var n;return((n=t.instance)==null?void 0:n.$).provides[e]??s}function yc(){return{install(t){t.directive("click",{name:"v-click",mounted(e,s){const n=we(e,s,s.value);if(n==null)return;e.classList.toggle(ye,!0);const i=Array.isArray(n.clicks)?n.clicks:[n.clicks,void 0];e.dataset.slidevClicksStart=String(i[0]),i[1]!=null&&(e.dataset.slidevClicksEnd=String(i[1])),Kt(()=>{const o=n.isActive.value,a=n.isCurrent.value,r=o&&!a;n.flagHide?(e.classList.toggle(n.flagFade?te:Qt,o),e.classList.toggle(qe,o)):e.classList.toggle(n.flagFade?te:Qt,!o),e.classList.toggle(Ve,a),e.classList.toggle(Be,r)})},unmounted:Ge}),t.directive("after",{name:"v-after",mounted(e,s){const n=we(e,s,s.value,!0);n!=null&&(e.classList.toggle(ye,!0),Kt(()=>{const i=n.isActive.value,o=n.isCurrent.value,a=i&&!o;n.flagHide?(e.classList.toggle(n.flagFade?te:Qt,i),e.classList.toggle(qe,i)):e.classList.toggle(n.flagFade?te:Qt,!i),e.classList.toggle(Ve,o),e.classList.toggle(Be,a)}))},unmounted:Ge}),t.directive("click-hide",{name:"v-click-hide",mounted(e,s){const n=we(e,s,s.value,!1,!0);n!=null&&(e.classList.toggle(ye,!0),Kt(()=>{const i=n.isActive.value,o=n.isCurrent.value,a=i&&!o;e.classList.toggle(n.flagFade?te:Qt,i),e.classList.toggle(qe,i),e.classList.toggle(Ve,o),e.classList.toggle(Be,a)}))},unmounted:Ge})}}}function Ke(t,e){return Array.isArray(t)?t[0]<=e&&e<t[1]:t<=e}function bc(t,e){return Array.isArray(t)?t[0]===e:t===e}function we(t,e,s,n=!1,i=!1){var h;const o=(h=zn(e,bs))==null?void 0:h.value;if(!t||!o||o.disabled||s===!1||s==="false")return null;i||(i=e.modifiers.hide!==!1&&e.modifiers.hide!=null);const a=e.modifiers.fade!==!1&&e.modifiers.fade!=null;n?s="+0":(s==null||s===!0||s==="true")&&(s="+1");let r,l,c;Array.isArray(s)?(r=0,l=s,c=+s[1]):{start:l,end:c,delta:r}=o.resolve(s);const u={max:c,clicks:l,delta:r,isActive:g(()=>Ke(l,o.current)),isCurrent:g(()=>bc(l,o.current)),isShown:g(()=>i?!Ke(l,o.current):Ke(l,o.current)),flagFade:a,flagHide:i};return o.register(t,u),u}function Ge(t,e){var n;t.classList.toggle(ye,!1);const s=(n=zn(e,bs))==null?void 0:n.value;s==null||s.unregister(t)}function Un(){return Math.floor(Math.random()*2**31)}class wc{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}function cs(t,e,s){if(t&&t.length){const[n,i]=e,o=Math.PI/180*s,a=Math.cos(o),r=Math.sin(o);for(const l of t){const[c,u]=l;l[0]=(c-n)*a-(u-i)*r+n,l[1]=(c-n)*r+(u-i)*a+i}}}function kc(t,e,s){const n=[];t.forEach(i=>n.push(...i)),cs(n,e,s)}function xc(t,e){return t[0]===e[0]&&t[1]===e[1]}function Mc(t,e,s,n=1){const i=s,o=Math.max(e,.1),a=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,r=[0,0];if(i)for(const c of a)cs(c,r,i);const l=Sc(a,o,n);if(i){for(const c of a)cs(c,r,-i);kc(l,r,-i)}return l}function Sc(t,e,s){const n=[];for(const c of t){const u=[...c];xc(u[0],u[u.length-1])||u.push([u[0][0],u[0][1]]),u.length>2&&n.push(u)}const i=[];e=Math.max(e,.1);const o=[];for(const c of n)for(let u=0;u<c.length-1;u++){const h=c[u],f=c[u+1];if(h[1]!==f[1]){const d=Math.min(h[1],f[1]);o.push({ymin:d,ymax:Math.max(h[1],f[1]),x:d===h[1]?h[0]:f[0],islope:(f[0]-h[0])/(f[1]-h[1])})}}if(o.sort((c,u)=>c.ymin<u.ymin?-1:c.ymin>u.ymin?1:c.x<u.x?-1:c.x>u.x?1:c.ymax===u.ymax?0:(c.ymax-u.ymax)/Math.abs(c.ymax-u.ymax)),!o.length)return i;let a=[],r=o[0].ymin,l=0;for(;a.length||o.length;){if(o.length){let c=-1;for(let h=0;h<o.length&&!(o[h].ymin>r);h++)c=h;o.splice(0,c+1).forEach(h=>{a.push({s:r,edge:h})})}if(a=a.filter(c=>!(c.edge.ymax<=r)),a.sort((c,u)=>c.edge.x===u.edge.x?0:(c.edge.x-u.edge.x)/Math.abs(c.edge.x-u.edge.x)),(s!==1||l%e===0)&&a.length>1)for(let c=0;c<a.length;c=c+2){const u=c+1;if(u>=a.length)break;const h=a[c].edge,f=a[u].edge;i.push([[Math.round(h.x),r],[Math.round(f.x),r]])}r+=s,a.forEach(c=>{c.edge.x=c.edge.x+s*c.edge.islope}),l++}return i}function de(t,e){var s;const n=e.hachureAngle+90;let i=e.hachureGap;i<0&&(i=e.strokeWidth*4),i=Math.round(Math.max(i,.1));let o=1;return e.roughness>=1&&(((s=e.randomizer)===null||s===void 0?void 0:s.next())||Math.random())>.7&&(o=i),Mc(t,i,n,o||1)}class Ts{constructor(e){this.helper=e}fillPolygons(e,s){return this._fillPolygons(e,s)}_fillPolygons(e,s){const n=de(e,s);return{type:"fillSketch",ops:this.renderLines(n,s)}}renderLines(e,s){const n=[];for(const i of e)n.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],s));return n}}function Ne(t){const e=t[0],s=t[1];return Math.sqrt(Math.pow(e[0]-s[0],2)+Math.pow(e[1]-s[1],2))}class $c extends Ts{fillPolygons(e,s){let n=s.hachureGap;n<0&&(n=s.strokeWidth*4),n=Math.max(n,.1);const i=Object.assign({},s,{hachureGap:n}),o=de(e,i),a=Math.PI/180*s.hachureAngle,r=[],l=n*.5*Math.cos(a),c=n*.5*Math.sin(a);for(const[h,f]of o)Ne([h,f])&&r.push([[h[0]-l,h[1]+c],[...f]],[[h[0]+l,h[1]-c],[...f]]);return{type:"fillSketch",ops:this.renderLines(r,s)}}}class Pc extends Ts{fillPolygons(e,s){const n=this._fillPolygons(e,s),i=Object.assign({},s,{hachureAngle:s.hachureAngle+90}),o=this._fillPolygons(e,i);return n.ops=n.ops.concat(o.ops),n}}class Cc{constructor(e){this.helper=e}fillPolygons(e,s){s=Object.assign({},s,{hachureAngle:0});const n=de(e,s);return this.dotsOnLines(n,s)}dotsOnLines(e,s){const n=[];let i=s.hachureGap;i<0&&(i=s.strokeWidth*4),i=Math.max(i,.1);let o=s.fillWeight;o<0&&(o=s.strokeWidth/2);const a=i/4;for(const r of e){const l=Ne(r),c=l/i,u=Math.ceil(c)-1,h=l-u*i,f=(r[0][0]+r[1][0])/2-i/4,d=Math.min(r[0][1],r[1][1]);for(let p=0;p<u;p++){const _=d+h+p*i,v=f-a+Math.random()*2*a,y=_-a+Math.random()*2*a,w=this.helper.ellipse(v,y,o,o,s);n.push(...w.ops)}}return{type:"fillSketch",ops:n}}}class Tc{constructor(e){this.helper=e}fillPolygons(e,s){const n=de(e,s);return{type:"fillSketch",ops:this.dashedLine(n,s)}}dashedLine(e,s){const n=s.dashOffset<0?s.hachureGap<0?s.strokeWidth*4:s.hachureGap:s.dashOffset,i=s.dashGap<0?s.hachureGap<0?s.strokeWidth*4:s.hachureGap:s.dashGap,o=[];return e.forEach(a=>{const r=Ne(a),l=Math.floor(r/(n+i)),c=(r+i-l*(n+i))/2;let u=a[0],h=a[1];u[0]>h[0]&&(u=a[1],h=a[0]);const f=Math.atan((h[1]-u[1])/(h[0]-u[0]));for(let d=0;d<l;d++){const p=d*(n+i),_=p+n,v=[u[0]+p*Math.cos(f)+c*Math.cos(f),u[1]+p*Math.sin(f)+c*Math.sin(f)],y=[u[0]+_*Math.cos(f)+c*Math.cos(f),u[1]+_*Math.sin(f)+c*Math.sin(f)];o.push(...this.helper.doubleLineOps(v[0],v[1],y[0],y[1],s))}}),o}}class Lc{constructor(e){this.helper=e}fillPolygons(e,s){const n=s.hachureGap<0?s.strokeWidth*4:s.hachureGap,i=s.zigzagOffset<0?n:s.zigzagOffset;s=Object.assign({},s,{hachureGap:n+i});const o=de(e,s);return{type:"fillSketch",ops:this.zigzagLines(o,i,s)}}zigzagLines(e,s,n){const i=[];return e.forEach(o=>{const a=Ne(o),r=Math.round(a/(2*s));let l=o[0],c=o[1];l[0]>c[0]&&(l=o[1],c=o[0]);const u=Math.atan((c[1]-l[1])/(c[0]-l[0]));for(let h=0;h<r;h++){const f=h*2*s,d=(h+1)*2*s,p=Math.sqrt(2*Math.pow(s,2)),_=[l[0]+f*Math.cos(u),l[1]+f*Math.sin(u)],v=[l[0]+d*Math.cos(u),l[1]+d*Math.sin(u)],y=[_[0]+p*Math.cos(u+Math.PI/4),_[1]+p*Math.sin(u+Math.PI/4)];i.push(...this.helper.doubleLineOps(_[0],_[1],y[0],y[1],n),...this.helper.doubleLineOps(y[0],y[1],v[0],v[1],n))}}),i}}const G={};function Ec(t,e){let s=t.fillStyle||"hachure";if(!G[s])switch(s){case"zigzag":G[s]||(G[s]=new $c(e));break;case"cross-hatch":G[s]||(G[s]=new Pc(e));break;case"dots":G[s]||(G[s]=new Cc(e));break;case"dashed":G[s]||(G[s]=new Tc(e));break;case"zigzag-line":G[s]||(G[s]=new Lc(e));break;case"hachure":default:s="hachure",G[s]||(G[s]=new Ts(e));break}return G[s]}const Ac=0,us=1,Wn=2,ge={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Oc(t){const e=new Array;for(;t!=="";)if(t.match(/^([ \t\r\n,]+)/))t=t.substr(RegExp.$1.length);else if(t.match(/^([aAcChHlLmMqQsStTvVzZ])/))e[e.length]={type:Ac,text:RegExp.$1},t=t.substr(RegExp.$1.length);else if(t.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))e[e.length]={type:us,text:`${parseFloat(RegExp.$1)}`},t=t.substr(RegExp.$1.length);else return[];return e[e.length]={type:Wn,text:""},e}function Ze(t,e){return t.type===e}function Ls(t){const e=[],s=Oc(t);let n="BOD",i=0,o=s[i];for(;!Ze(o,Wn);){let a=0;const r=[];if(n==="BOD")if(o.text==="M"||o.text==="m")i++,a=ge[o.text],n=o.text;else return Ls("M0,0"+t);else Ze(o,us)?a=ge[n]:(i++,a=ge[o.text],n=o.text);if(i+a<s.length){for(let l=i;l<i+a;l++){const c=s[l];if(Ze(c,us))r[r.length]=+c.text;else throw new Error("Param not a number: "+n+","+c.text)}if(typeof ge[n]=="number"){const l={key:n,data:r};e.push(l),i+=a,o=s[i],n==="M"&&(n="L"),n==="m"&&(n="l")}else throw new Error("Bad segment: "+n)}else throw new Error("Path data ended short")}return e}function qn(t){let e=0,s=0,n=0,i=0;const o=[];for(const{key:a,data:r}of t)switch(a){case"M":o.push({key:"M",data:[...r]}),[e,s]=r,[n,i]=r;break;case"m":e+=r[0],s+=r[1],o.push({key:"M",data:[e,s]}),n=e,i=s;break;case"L":o.push({key:"L",data:[...r]}),[e,s]=r;break;case"l":e+=r[0],s+=r[1],o.push({key:"L",data:[e,s]});break;case"C":o.push({key:"C",data:[...r]}),e=r[4],s=r[5];break;case"c":{const l=r.map((c,u)=>u%2?c+s:c+e);o.push({key:"C",data:l}),e=l[4],s=l[5];break}case"Q":o.push({key:"Q",data:[...r]}),e=r[2],s=r[3];break;case"q":{const l=r.map((c,u)=>u%2?c+s:c+e);o.push({key:"Q",data:l}),e=l[2],s=l[3];break}case"A":o.push({key:"A",data:[...r]}),e=r[5],s=r[6];break;case"a":e+=r[5],s+=r[6],o.push({key:"A",data:[r[0],r[1],r[2],r[3],r[4],e,s]});break;case"H":o.push({key:"H",data:[...r]}),e=r[0];break;case"h":e+=r[0],o.push({key:"H",data:[e]});break;case"V":o.push({key:"V",data:[...r]}),s=r[0];break;case"v":s+=r[0],o.push({key:"V",data:[s]});break;case"S":o.push({key:"S",data:[...r]}),e=r[2],s=r[3];break;case"s":{const l=r.map((c,u)=>u%2?c+s:c+e);o.push({key:"S",data:l}),e=l[2],s=l[3];break}case"T":o.push({key:"T",data:[...r]}),e=r[0],s=r[1];break;case"t":e+=r[0],s+=r[1],o.push({key:"T",data:[e,s]});break;case"Z":case"z":o.push({key:"Z",data:[]}),e=n,s=i;break}return o}function Vn(t){const e=[];let s="",n=0,i=0,o=0,a=0,r=0,l=0;for(const{key:c,data:u}of t){switch(c){case"M":e.push({key:"M",data:[...u]}),[n,i]=u,[o,a]=u;break;case"C":e.push({key:"C",data:[...u]}),n=u[4],i=u[5],r=u[2],l=u[3];break;case"L":e.push({key:"L",data:[...u]}),[n,i]=u;break;case"H":n=u[0],e.push({key:"L",data:[n,i]});break;case"V":i=u[0],e.push({key:"L",data:[n,i]});break;case"S":{let h=0,f=0;s==="C"||s==="S"?(h=n+(n-r),f=i+(i-l)):(h=n,f=i),e.push({key:"C",data:[h,f,...u]}),r=u[0],l=u[1],n=u[2],i=u[3];break}case"T":{const[h,f]=u;let d=0,p=0;s==="Q"||s==="T"?(d=n+(n-r),p=i+(i-l)):(d=n,p=i);const _=n+2*(d-n)/3,v=i+2*(p-i)/3,y=h+2*(d-h)/3,w=f+2*(p-f)/3;e.push({key:"C",data:[_,v,y,w,h,f]}),r=d,l=p,n=h,i=f;break}case"Q":{const[h,f,d,p]=u,_=n+2*(h-n)/3,v=i+2*(f-i)/3,y=d+2*(h-d)/3,w=p+2*(f-p)/3;e.push({key:"C",data:[_,v,y,w,d,p]}),r=h,l=f,n=d,i=p;break}case"A":{const h=Math.abs(u[0]),f=Math.abs(u[1]),d=u[2],p=u[3],_=u[4],v=u[5],y=u[6];h===0||f===0?(e.push({key:"C",data:[n,i,v,y,v,y]}),n=v,i=y):(n!==v||i!==y)&&(Bn(n,i,v,y,h,f,d,p,_).forEach(function(M){e.push({key:"C",data:M})}),n=v,i=y);break}case"Z":e.push({key:"Z",data:[]}),n=o,i=a;break}s=c}return e}function Ic(t){return Math.PI*t/180}function oe(t,e,s){const n=t*Math.cos(s)-e*Math.sin(s),i=t*Math.sin(s)+e*Math.cos(s);return[n,i]}function Bn(t,e,s,n,i,o,a,r,l,c){const u=Ic(a);let h=[],f=0,d=0,p=0,_=0;if(c)[f,d,p,_]=c;else{[t,e]=oe(t,e,-u),[s,n]=oe(s,n,-u);const W=(t-s)/2,$=(e-n)/2;let H=W*W/(i*i)+$*$/(o*o);H>1&&(H=Math.sqrt(H),i=H*i,o=H*o);const Et=r===l?-1:1,it=i*i,k=o*o,D=it*k-it*$*$-k*W*W,P=it*$*$+k*W*W,C=Et*Math.sqrt(Math.abs(D/P));p=C*i*$/o+(t+s)/2,_=C*-o*W/i+(e+n)/2,f=Math.asin(parseFloat(((e-_)/o).toFixed(9))),d=Math.asin(parseFloat(((n-_)/o).toFixed(9))),t<p&&(f=Math.PI-f),s<p&&(d=Math.PI-d),f<0&&(f=Math.PI*2+f),d<0&&(d=Math.PI*2+d),l&&f>d&&(f=f-Math.PI*2),!l&&d>f&&(d=d-Math.PI*2)}let v=d-f;if(Math.abs(v)>Math.PI*120/180){const W=d,$=s,H=n;l&&d>f?d=f+Math.PI*120/180*1:d=f+Math.PI*120/180*-1,s=p+i*Math.cos(d),n=_+o*Math.sin(d),h=Bn(s,n,$,H,i,o,a,0,l,[d,W,p,_])}v=d-f;const y=Math.cos(f),w=Math.sin(f),M=Math.cos(d),N=Math.sin(d),E=Math.tan(v/4),ht=4/3*i*E,Lt=4/3*o*E,Q=[t,e],nt=[t+ht*w,e-Lt*y],lt=[s+ht*N,n-Lt*M],ct=[s,n];if(nt[0]=2*Q[0]-nt[0],nt[1]=2*Q[1]-nt[1],c)return[nt,lt,ct].concat(h);{h=[nt,lt,ct].concat(h);const W=[];for(let $=0;$<h.length;$+=3){const H=oe(h[$][0],h[$][1],u),Et=oe(h[$+1][0],h[$+1][1],u),it=oe(h[$+2][0],h[$+2][1],u);W.push([H[0],H[1],Et[0],Et[1],it[0],it[1]])}return W}}const Hc={randOffset:Nc,randOffsetWithRange:jc,ellipse:hs,doubleLineOps:Fc};function tt(t,e,s,n,i){return{type:"path",ops:Ht(t,e,s,n,i)}}function ae(t,e,s){const n=(t||[]).length;if(n>2){const i=[];for(let o=0;o<n-1;o++)i.push(...Ht(t[o][0],t[o][1],t[o+1][0],t[o+1][1],s));return e&&i.push(...Ht(t[n-1][0],t[n-1][1],t[0][0],t[0][1],s)),{type:"path",ops:i}}else if(n===2)return tt(t[0][0],t[0][1],t[1][0],t[1][1],s);return{type:"path",ops:[]}}function Dc(t,e){return ae(t,!0,e)}function Kn(t,e,s,n,i){const o=[[t,e],[t+s,e],[t+s,e+n],[t,e+n]];return Dc(o,i)}function en(t,e){if(t.length){const n=typeof t[0][0]=="number"?[t]:t,i=me(n[0],1*(1+e.roughness*.2),e),o=e.disableMultiStroke?[]:me(n[0],1.5*(1+e.roughness*.22),on(e));for(let a=1;a<n.length;a++){const r=n[a];if(r.length){const l=me(r,1*(1+e.roughness*.2),e),c=e.disableMultiStroke?[]:me(r,1.5*(1+e.roughness*.22),on(e));for(const u of l)u.op!=="move"&&i.push(u);for(const u of c)u.op!=="move"&&o.push(u)}}return{type:"path",ops:i.concat(o)}}return{type:"path",ops:[]}}function hs(t,e,s,n,i){const o=Gn(s,n,i);return ds(t,e,i,o).opset}function Gn(t,e,s){const n=Math.sqrt(Math.PI*2*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),i=Math.ceil(Math.max(s.curveStepCount,s.curveStepCount/Math.sqrt(200)*n)),o=Math.PI*2/i;let a=Math.abs(t/2),r=Math.abs(e/2);const l=1-s.curveFitting;return a+=b(a*l,s),r+=b(r*l,s),{increment:o,rx:a,ry:r}}function ds(t,e,s,n){const[i,o]=rn(n.increment,t,e,n.rx,n.ry,1,n.increment*Ae(.1,Ae(.4,1,s),s),s);let a=Oe(i,null,s);if(!s.disableMultiStroke&&s.roughness!==0){const[r]=rn(n.increment,t,e,n.rx,n.ry,1.5,0,s),l=Oe(r,null,s);a=a.concat(l)}return{estimatedPoints:o,opset:{type:"path",ops:a}}}function sn(t,e,s,n,i,o,a,r,l){const c=t,u=e;let h=Math.abs(s/2),f=Math.abs(n/2);h+=b(h*.01,l),f+=b(f*.01,l);let d=i,p=o;for(;d<0;)d+=Math.PI*2,p+=Math.PI*2;p-d>Math.PI*2&&(d=0,p=Math.PI*2);const _=Math.PI*2/l.curveStepCount,v=Math.min(_/2,(p-d)/2),y=an(v,c,u,h,f,d,p,1,l);if(!l.disableMultiStroke){const w=an(v,c,u,h,f,d,p,1.5,l);y.push(...w)}return a&&(r?y.push(...Ht(c,u,c+h*Math.cos(d),u+f*Math.sin(d),l),...Ht(c,u,c+h*Math.cos(p),u+f*Math.sin(p),l)):y.push({op:"lineTo",data:[c,u]},{op:"lineTo",data:[c+h*Math.cos(d),u+f*Math.sin(d)]})),{type:"path",ops:y}}function nn(t,e){const s=Vn(qn(Ls(t))),n=[];let i=[0,0],o=[0,0];for(const{key:a,data:r}of s)switch(a){case"M":{o=[r[0],r[1]],i=[r[0],r[1]];break}case"L":n.push(...Ht(o[0],o[1],r[0],r[1],e)),o=[r[0],r[1]];break;case"C":{const[l,c,u,h,f,d]=r;n.push(...zc(l,c,u,h,f,d,o,e)),o=[f,d];break}case"Z":n.push(...Ht(o[0],o[1],i[0],i[1],e)),o=[i[0],i[1]];break}return{type:"path",ops:n}}function Je(t,e){const s=[];for(const n of t)if(n.length){const i=e.maxRandomnessOffset||0,o=n.length;if(o>2){s.push({op:"move",data:[n[0][0]+b(i,e),n[0][1]+b(i,e)]});for(let a=1;a<o;a++)s.push({op:"lineTo",data:[n[a][0]+b(i,e),n[a][1]+b(i,e)]})}}return{type:"fillPath",ops:s}}function Bt(t,e){return Ec(e,Hc).fillPolygons(t,e)}function Rc(t,e,s,n,i,o,a){const r=t,l=e;let c=Math.abs(s/2),u=Math.abs(n/2);c+=b(c*.01,a),u+=b(u*.01,a);let h=i,f=o;for(;h<0;)h+=Math.PI*2,f+=Math.PI*2;f-h>Math.PI*2&&(h=0,f=Math.PI*2);const d=(f-h)/a.curveStepCount,p=[];for(let _=h;_<=f;_=_+d)p.push([r+c*Math.cos(_),l+u*Math.sin(_)]);return p.push([r+c*Math.cos(f),l+u*Math.sin(f)]),p.push([r,l]),Bt([p],a)}function Nc(t,e){return b(t,e)}function jc(t,e,s){return Ae(t,e,s)}function Fc(t,e,s,n,i){return Ht(t,e,s,n,i,!0)}function on(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function Zn(t){return t.randomizer||(t.randomizer=new wc(t.seed||0)),t.randomizer.next()}function Ae(t,e,s,n=1){return s.roughness*n*(Zn(s)*(e-t)+t)}function b(t,e,s=1){return Ae(-t,t,e,s)}function Ht(t,e,s,n,i,o=!1){const a=o?i.disableMultiStrokeFill:i.disableMultiStroke,r=fs(t,e,s,n,i,!0,!1);if(a)return r;const l=fs(t,e,s,n,i,!0,!0);return r.concat(l)}function fs(t,e,s,n,i,o,a){const r=Math.pow(t-s,2)+Math.pow(e-n,2),l=Math.sqrt(r);let c=1;l<200?c=1:l>500?c=.4:c=-.0016668*l+1.233334;let u=i.maxRandomnessOffset||0;u*u*100>r&&(u=l/10);const h=u/2,f=.2+Zn(i)*.2;let d=i.bowing*i.maxRandomnessOffset*(n-e)/200,p=i.bowing*i.maxRandomnessOffset*(t-s)/200;d=b(d,i,c),p=b(p,i,c);const _=[],v=()=>b(h,i,c),y=()=>b(u,i,c),w=i.preserveVertices;return o&&(a?_.push({op:"move",data:[t+(w?0:v()),e+(w?0:v())]}):_.push({op:"move",data:[t+(w?0:b(u,i,c)),e+(w?0:b(u,i,c))]})),a?_.push({op:"bcurveTo",data:[d+t+(s-t)*f+v(),p+e+(n-e)*f+v(),d+t+2*(s-t)*f+v(),p+e+2*(n-e)*f+v(),s+(w?0:v()),n+(w?0:v())]}):_.push({op:"bcurveTo",data:[d+t+(s-t)*f+y(),p+e+(n-e)*f+y(),d+t+2*(s-t)*f+y(),p+e+2*(n-e)*f+y(),s+(w?0:y()),n+(w?0:y())]}),_}function me(t,e,s){if(!t.length)return[];const n=[];n.push([t[0][0]+b(e,s),t[0][1]+b(e,s)]),n.push([t[0][0]+b(e,s),t[0][1]+b(e,s)]);for(let i=1;i<t.length;i++)n.push([t[i][0]+b(e,s),t[i][1]+b(e,s)]),i===t.length-1&&n.push([t[i][0]+b(e,s),t[i][1]+b(e,s)]);return Oe(n,null,s)}function Oe(t,e,s){const n=t.length,i=[];if(n>3){const o=[],a=1-s.curveTightness;i.push({op:"move",data:[t[1][0],t[1][1]]});for(let r=1;r+2<n;r++){const l=t[r];o[0]=[l[0],l[1]],o[1]=[l[0]+(a*t[r+1][0]-a*t[r-1][0])/6,l[1]+(a*t[r+1][1]-a*t[r-1][1])/6],o[2]=[t[r+1][0]+(a*t[r][0]-a*t[r+2][0])/6,t[r+1][1]+(a*t[r][1]-a*t[r+2][1])/6],o[3]=[t[r+1][0],t[r+1][1]],i.push({op:"bcurveTo",data:[o[1][0],o[1][1],o[2][0],o[2][1],o[3][0],o[3][1]]})}if(e&&e.length===2){const r=s.maxRandomnessOffset;i.push({op:"lineTo",data:[e[0]+b(r,s),e[1]+b(r,s)]})}}else n===3?(i.push({op:"move",data:[t[1][0],t[1][1]]}),i.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):n===2&&i.push(...fs(t[0][0],t[0][1],t[1][0],t[1][1],s,!0,!0));return i}function rn(t,e,s,n,i,o,a,r){const l=r.roughness===0,c=[],u=[];if(l){t=t/4,u.push([e+n*Math.cos(-t),s+i*Math.sin(-t)]);for(let h=0;h<=Math.PI*2;h=h+t){const f=[e+n*Math.cos(h),s+i*Math.sin(h)];c.push(f),u.push(f)}u.push([e+n*Math.cos(0),s+i*Math.sin(0)]),u.push([e+n*Math.cos(t),s+i*Math.sin(t)])}else{const h=b(.5,r)-Math.PI/2;u.push([b(o,r)+e+.9*n*Math.cos(h-t),b(o,r)+s+.9*i*Math.sin(h-t)]);const f=Math.PI*2+h-.01;for(let d=h;d<f;d=d+t){const p=[b(o,r)+e+n*Math.cos(d),b(o,r)+s+i*Math.sin(d)];c.push(p),u.push(p)}u.push([b(o,r)+e+n*Math.cos(h+Math.PI*2+a*.5),b(o,r)+s+i*Math.sin(h+Math.PI*2+a*.5)]),u.push([b(o,r)+e+.98*n*Math.cos(h+a),b(o,r)+s+.98*i*Math.sin(h+a)]),u.push([b(o,r)+e+.9*n*Math.cos(h+a*.5),b(o,r)+s+.9*i*Math.sin(h+a*.5)])}return[u,c]}function an(t,e,s,n,i,o,a,r,l){const c=o+b(.1,l),u=[];u.push([b(r,l)+e+.9*n*Math.cos(c-t),b(r,l)+s+.9*i*Math.sin(c-t)]);for(let h=c;h<=a;h=h+t)u.push([b(r,l)+e+n*Math.cos(h),b(r,l)+s+i*Math.sin(h)]);return u.push([e+n*Math.cos(a),s+i*Math.sin(a)]),u.push([e+n*Math.cos(a),s+i*Math.sin(a)]),Oe(u,null,l)}function zc(t,e,s,n,i,o,a,r){const l=[],c=[r.maxRandomnessOffset||1,(r.maxRandomnessOffset||1)+.3];let u=[0,0];const h=r.disableMultiStroke?1:2,f=r.preserveVertices;for(let d=0;d<h;d++)d===0?l.push({op:"move",data:[a[0],a[1]]}):l.push({op:"move",data:[a[0]+(f?0:b(c[0],r)),a[1]+(f?0:b(c[0],r))]}),u=f?[i,o]:[i+b(c[d],r),o+b(c[d],r)],l.push({op:"bcurveTo",data:[t+b(c[d],r),e+b(c[d],r),s+b(c[d],r),n+b(c[d],r),u[0],u[1]]});return l}function re(t){return[...t]}function ln(t,e=0){const s=t.length;if(s<3)throw new Error("A curve must have at least three points.");const n=[];if(s===3)n.push(re(t[0]),re(t[1]),re(t[2]),re(t[2]));else{const i=[];i.push(t[0],t[0]);for(let r=1;r<t.length;r++)i.push(t[r]),r===t.length-1&&i.push(t[r]);const o=[],a=1-e;n.push(re(i[0]));for(let r=1;r+2<i.length;r++){const l=i[r];o[0]=[l[0],l[1]],o[1]=[l[0]+(a*i[r+1][0]-a*i[r-1][0])/6,l[1]+(a*i[r+1][1]-a*i[r-1][1])/6],o[2]=[i[r+1][0]+(a*i[r][0]-a*i[r+2][0])/6,i[r+1][1]+(a*i[r][1]-a*i[r+2][1])/6],o[3]=[i[r+1][0],i[r+1][1]],n.push(o[1],o[2],o[3])}}return n}function Uc(t,e){return Math.sqrt(ke(t,e))}function ke(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function Wc(t,e,s){const n=ke(e,s);if(n===0)return ke(t,e);let i=((t[0]-e[0])*(s[0]-e[0])+(t[1]-e[1])*(s[1]-e[1]))/n;return i=Math.max(0,Math.min(1,i)),ke(t,jt(e,s,i))}function jt(t,e,s){return[t[0]+(e[0]-t[0])*s,t[1]+(e[1]-t[1])*s]}function qc(t,e){const s=t[e+0],n=t[e+1],i=t[e+2],o=t[e+3];let a=3*n[0]-2*s[0]-o[0];a*=a;let r=3*n[1]-2*s[1]-o[1];r*=r;let l=3*i[0]-2*o[0]-s[0];l*=l;let c=3*i[1]-2*o[1]-s[1];return c*=c,a<l&&(a=l),r<c&&(r=c),a+r}function ps(t,e,s,n){const i=n||[];if(qc(t,e)<s){const o=t[e+0];i.length?Uc(i[i.length-1],o)>1&&i.push(o):i.push(o),i.push(t[e+3])}else{const a=t[e+0],r=t[e+1],l=t[e+2],c=t[e+3],u=jt(a,r,.5),h=jt(r,l,.5),f=jt(l,c,.5),d=jt(u,h,.5),p=jt(h,f,.5),_=jt(d,p,.5);ps([a,u,d,_],0,s,i),ps([_,p,f,c],0,s,i)}return i}function Vc(t,e){return Ie(t,0,t.length,e)}function Ie(t,e,s,n,i){const o=i||[],a=t[e],r=t[s-1];let l=0,c=1;for(let u=e+1;u<s-1;++u){const h=Wc(t[u],a,r);h>l&&(l=h,c=u)}return Math.sqrt(l)>n?(Ie(t,e,c+1,n,o),Ie(t,c,s,n,o)):(o.length||o.push(a),o.push(r)),o}function gs(t,e=.15,s){const n=[],i=(t.length-1)/3;for(let o=0;o<i;o++){const a=o*3;ps(t,a,e,n)}return s&&s>0?Ie(n,0,n.length,s):n}function Bc(t,e,s){const n=Ls(t),i=Vn(qn(n)),o=[];let a=[],r=[0,0],l=[];const c=()=>{l.length>=4&&a.push(...gs(l,e)),l=[]},u=()=>{c(),a.length&&(o.push(a),a=[])};for(const{key:f,data:d}of i)switch(f){case"M":u(),r=[d[0],d[1]],a.push(r);break;case"L":c(),a.push([d[0],d[1]]);break;case"C":if(!l.length){const p=a.length?a[a.length-1]:r;l.push([p[0],p[1]])}l.push([d[0],d[1]]),l.push([d[2],d[3]]),l.push([d[4],d[5]]);break;case"Z":c(),a.push([r[0],r[1]]);break}if(u(),!s)return o;const h=[];for(const f of o){const d=Vc(f,s);d.length&&h.push(d)}return h}const X="none";class Kc{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Un()}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,s,n){return{shape:e,sets:s||[],options:n||this.defaultOptions}}line(e,s,n,i,o){const a=this._o(o);return this._d("line",[tt(e,s,n,i,a)],a)}rectangle(e,s,n,i,o){const a=this._o(o),r=[],l=Kn(e,s,n,i,a);if(a.fill){const c=[[e,s],[e+n,s],[e+n,s+i],[e,s+i]];a.fillStyle==="solid"?r.push(Je([c],a)):r.push(Bt([c],a))}return a.stroke!==X&&r.push(l),this._d("rectangle",r,a)}ellipse(e,s,n,i,o){const a=this._o(o),r=[],l=Gn(n,i,a),c=ds(e,s,a,l);if(a.fill)if(a.fillStyle==="solid"){const u=ds(e,s,a,l).opset;u.type="fillPath",r.push(u)}else r.push(Bt([c.estimatedPoints],a));return a.stroke!==X&&r.push(c.opset),this._d("ellipse",r,a)}circle(e,s,n,i){const o=this.ellipse(e,s,n,n,i);return o.shape="circle",o}linearPath(e,s){const n=this._o(s);return this._d("linearPath",[ae(e,!1,n)],n)}arc(e,s,n,i,o,a,r=!1,l){const c=this._o(l),u=[],h=sn(e,s,n,i,o,a,r,!0,c);if(r&&c.fill)if(c.fillStyle==="solid"){const f=Object.assign({},c);f.disableMultiStroke=!0;const d=sn(e,s,n,i,o,a,!0,!1,f);d.type="fillPath",u.push(d)}else u.push(Rc(e,s,n,i,o,a,c));return c.stroke!==X&&u.push(h),this._d("arc",u,c)}curve(e,s){const n=this._o(s),i=[],o=en(e,n);if(n.fill&&n.fill!==X)if(n.fillStyle==="solid"){const a=en(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(a.ops)})}else{const a=[],r=e;if(r.length){const c=typeof r[0][0]=="number"?[r]:r;for(const u of c)u.length<3?a.push(...u):u.length===3?a.push(...gs(ln([u[0],u[0],u[1],u[2]]),10,(1+n.roughness)/2)):a.push(...gs(ln(u),10,(1+n.roughness)/2))}a.length&&i.push(Bt([a],n))}return n.stroke!==X&&i.push(o),this._d("curve",i,n)}polygon(e,s){const n=this._o(s),i=[],o=ae(e,!0,n);return n.fill&&(n.fillStyle==="solid"?i.push(Je([e],n)):i.push(Bt([e],n))),n.stroke!==X&&i.push(o),this._d("polygon",i,n)}path(e,s){const n=this._o(s),i=[];if(!e)return this._d("path",i,n);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const o=n.fill&&n.fill!=="transparent"&&n.fill!==X,a=n.stroke!==X,r=!!(n.simplification&&n.simplification<1),l=r?4-4*(n.simplification||1):(1+n.roughness)/2,c=Bc(e,1,l),u=nn(e,n);if(o)if(n.fillStyle==="solid")if(c.length===1){const h=nn(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(h.ops)})}else i.push(Je(c,n));else i.push(Bt(c,n));return a&&(r?c.forEach(h=>{i.push(ae(h,!1,n))}):i.push(u)),this._d("path",i,n)}opsToPath(e,s){let n="";for(const i of e.ops){const o=typeof s=="number"&&s>=0?i.data.map(a=>+a.toFixed(s)):i.data;switch(i.op){case"move":n+=`M${o[0]} ${o[1]} `;break;case"bcurveTo":n+=`C${o[0]} ${o[1]}, ${o[2]} ${o[3]}, ${o[4]} ${o[5]} `;break;case"lineTo":n+=`L${o[0]} ${o[1]} `;break}}return n.trim()}toPaths(e){const s=e.sets||[],n=e.options||this.defaultOptions,i=[];for(const o of s){let a=null;switch(o.type){case"path":a={d:this.opsToPath(o),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:X};break;case"fillPath":a={d:this.opsToPath(o),stroke:X,strokeWidth:0,fill:n.fill||X};break;case"fillSketch":a=this.fillSketch(o,n);break}a&&i.push(a)}return i}fillSketch(e,s){let n=s.fillWeight;return n<0&&(n=s.strokeWidth/2),{d:this.opsToPath(e),stroke:s.fill||X,strokeWidth:n,fill:X}}_mergedShape(e){return e.filter((s,n)=>n===0?!0:s.op!=="move")}}const Jn="http://www.w3.org/2000/svg",Gc=800;let Xe=null;function Zc(){return Xe||(Xe=new Kc().defaultOptions),Xe}function Ye(t,e,s){return{...Zc(),maxRandomnessOffset:2,roughness:t==="highlight"?3:1.5,bowing:1,stroke:"#000",strokeWidth:1.5,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,disableMultiStroke:t!=="double",disableMultiStrokeFill:!1,seed:e,...s}}function Jc(t){const e=t.padding;if(e||e===0){if(typeof e=="number")return[e,e,e,e];if(Array.isArray(e)){const s=e;if(s.length)switch(s.length){case 4:return[...s];case 1:return[s[0],s[0],s[0],s[0]];case 2:return[...s,...s];case 3:return[...s,s[1]];default:return[s[0],s[1],s[2],s[3]]}}}return[5,5,5,5]}function Xc(t,e,s,n,i,o){const a=[];let r=s.strokeWidth||2;const l=Jc(s),c=s.animate===void 0?!0:!!s.animate,u=s.iterations||2,h=s.rtl?1:0,f=Ye("single",o,s);switch(s.type){case"underline":{const d=e.y+e.h+l[2];for(let p=h;p<u+h;p++)p%2?a.push(tt(e.x+e.w,d,e.x,d,f)):a.push(tt(e.x,d,e.x+e.w,d,f));break}case"strike-through":{const d=e.y+e.h/2;for(let p=h;p<u+h;p++)p%2?a.push(tt(e.x+e.w,d,e.x,d,f)):a.push(tt(e.x,d,e.x+e.w,d,f));break}case"box":{const d=e.x-l[3],p=e.y-l[0],_=e.w+(l[1]+l[3]),v=e.h+(l[0]+l[2]);for(let y=0;y<u;y++)a.push(Kn(d,p,_,v,f));break}case"bracket":{const d=Array.isArray(s.brackets)?s.brackets:s.brackets?[s.brackets]:["right"],p=e.x-l[3]*2,_=e.x+e.w+l[1]*2,v=e.y-l[0]*2,y=e.y+e.h+l[2]*2;for(const w of d){let M;switch(w){case"bottom":M=[[p,e.y+e.h],[p,y],[_,y],[_,e.y+e.h]];break;case"top":M=[[p,e.y],[p,v],[_,v],[_,e.y]];break;case"left":M=[[e.x,v],[p,v],[p,y],[e.x,y]];break;case"right":M=[[e.x+e.w,v],[_,v],[_,y],[e.x+e.w,y]];break}M&&a.push(ae(M,!1,f))}break}case"crossed-off":{const d=e.x,p=e.y,_=d+e.w,v=p+e.h;for(let y=h;y<u+h;y++)y%2?a.push(tt(_,v,d,p,f)):a.push(tt(d,p,_,v,f));for(let y=h;y<u+h;y++)y%2?a.push(tt(d,v,_,p,f)):a.push(tt(_,p,d,v,f));break}case"circle":{const d=Ye("double",o,s),p=e.w+(l[1]+l[3]),_=e.h+(l[0]+l[2]),v=e.x-l[3]+p/2,y=e.y-l[0]+_/2,w=Math.floor(u/2),M=u-w*2;for(let N=0;N<w;N++)a.push(hs(v,y,p,_,d));for(let N=0;N<M;N++)a.push(hs(v,y,p,_,f));break}case"highlight":{const d=Ye("highlight",o,s);r=e.h*.95;const p=e.y+e.h/2;for(let _=h;_<u+h;_++)_%2?a.push(tt(e.x+e.w,p,e.x,p,d)):a.push(tt(e.x,p,e.x+e.w,p,d));break}}if(a.length){const d=Yc(a),p=[],_=[];let v=0;const y=(w,M,N)=>w.setAttribute(M,N);for(const w of d){const M=document.createElementNS(Jn,"path");if(y(M,"d",w),y(M,"fill","none"),y(M,"stroke",s.color||"currentColor"),y(M,"stroke-width",`${r}`),s.opacity!==void 0&&y(M,"style",`opacity:${s.opacity}`),c){const N=M.getTotalLength();p.push(N),v+=N}t.appendChild(M),_.push(M)}if(c){let w=0;for(let M=0;M<_.length;M++){const N=_[M],E=p[M],ht=v?i*(E/v):0,Lt=n+w,Q=N.style;Q.strokeDashoffset=`${E}`,Q.strokeDasharray=`${E}`,Q.animation=`rough-notation-dash ${ht}ms ease-out ${Lt}ms forwards`,w+=ht}return cn(i+n)}}return cn(0)}function cn(t){return new Promise(e=>setTimeout(e,t))}function Yc(t){const e=[];for(const s of t){let n="";for(const i of s.ops){const o=i.data;switch(i.op){case"move":n.trim()&&e.push(n.trim()),n=`M${o[0]} ${o[1]} `;break;case"bcurveTo":n+=`C${o[0]} ${o[1]}, ${o[2]} ${o[3]}, ${o[4]} ${o[5]} `;break;case"lineTo":n+=`L${o[0]} ${o[1]} `;break}}n.trim()&&e.push(n.trim())}return e}function Qc(){if(!window.__rno_kf_s){const t=window.__rno_kf_s=document.createElement("style");t.textContent="@keyframes rough-notation-dash { to { stroke-dashoffset: 0; } }",document.head.appendChild(t)}}var tu=Object.defineProperty,eu=(t,e,s)=>e in t?tu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,ot=(t,e,s)=>(eu(t,typeof e!="symbol"?e+"":e,s),s);class su{constructor(e,s){ot(this,"_state","unattached"),ot(this,"_config"),ot(this,"_resizing",!1),ot(this,"_ro"),ot(this,"_seed",Un()),ot(this,"_e"),ot(this,"_svg"),ot(this,"_lastSizes",[]),ot(this,"_animationDelay",0),ot(this,"_resizeListener",()=>{this._resizing||(this._resizing=!0,setTimeout(()=>{this._resizing=!1,this._state==="showing"&&this.haveRectsChanged()&&this.show()},400))}),ot(this,"pendingRefresh"),this._e=e,this._config=JSON.parse(JSON.stringify(s)),this.attach()}getConfig(e){return this._config[e]}setConfig(e,s){this._config[e]!==s&&(this._config[e]=s,this.refresh())}get animate(){return this._config.animate}set animate(e){this._config.animate=e}get animationDuration(){return this._config.animationDuration}set animationDuration(e){this._config.animationDuration=e}get iterations(){return this._config.iterations}set iterations(e){this._config.iterations=e}get color(){return this._config.color}set color(e){this._config.color!==e&&(this._config.color=e,this.refresh())}get class(){return this._config.class}set class(e){this._config.class!==e&&(this._config.class=e,this._svg&&this._svg.setAttribute("class",["rough-annotation",this._config.class||""].filter(Boolean).join(" ")))}get strokeWidth(){return this._config.strokeWidth}set strokeWidth(e){this._config.strokeWidth!==e&&(this._config.strokeWidth=e,this.refresh())}get padding(){return this._config.padding}set padding(e){this._config.padding!==e&&(this._config.padding=e,this.refresh())}attach(){if(this._state==="unattached"&&this._e.parentElement){Qc();const e=this._svg=document.createElementNS(Jn,"svg");e.setAttribute("class",["rough-annotation",this._config.class||""].filter(Boolean).join(" "));const s=e.style;s.position="absolute",s.top="0",s.left="0",s.overflow="visible",s.pointerEvents="none",s.width="100px",s.height="100px";const n=this._config.type==="highlight";if(this._e.insertAdjacentElement(n?"beforebegin":"afterend",e),this._state="not-showing",n){const i=window.getComputedStyle(this._e).position;(!i||i==="static")&&(this._e.style.position="relative")}this.attachListeners()}}detachListeners(){window.removeEventListener("resize",this._resizeListener),this._ro&&this._ro.unobserve(this._e)}attachListeners(){this.detachListeners(),window.addEventListener("resize",this._resizeListener,{passive:!0}),!this._ro&&"ResizeObserver"in window&&(this._ro=new window.ResizeObserver(e=>{for(const s of e)s.contentRect&&this._resizeListener()})),this._ro&&this._ro.observe(this._e)}haveRectsChanged(){if(this._lastSizes.length){const e=this.rects();if(e.length===this._lastSizes.length){for(let s=0;s<e.length;s++)if(!this.isSameRect(e[s],this._lastSizes[s]))return!0}else return!0}return!1}isSameRect(e,s){const n=(i,o)=>Math.round(i)===Math.round(o);return n(e.x,s.x)&&n(e.y,s.y)&&n(e.w,s.w)&&n(e.h,s.h)}isShowing(){return this._state!=="not-showing"}refresh(){this.isShowing()&&!this.pendingRefresh&&(this.pendingRefresh=Promise.resolve().then(()=>{this.isShowing()&&this.show(),delete this.pendingRefresh}))}async show(){switch(this._state){case"unattached":break;case"showing":this.hide(),this._svg&&await this.render(this._svg,!0);break;case"not-showing":this.attach(),this._svg&&await this.render(this._svg,!1);break}}hide(){if(this._svg)for(;this._svg.lastChild;)this._svg.removeChild(this._svg.lastChild);this._state="not-showing"}remove(){this._svg&&this._svg.parentElement&&this._svg.parentElement.removeChild(this._svg),this._svg=void 0,this._state="unattached",this.detachListeners()}async render(e,s){let n=this._config;s&&(n=JSON.parse(JSON.stringify(this._config)),n.animate=!1);const i=this.rects();let o=0;i.forEach(c=>o+=c.w);const a=n.animationDuration||Gc;let r=0;const l=[];for(let c=0;c<i.length;c++){const u=i[c],h=a*(u.w/o);l.push(Xc(e,i[c],n,r+this._animationDelay+(this._config.delay||0),h,this._seed)),r+=h}return this._lastSizes=i,this._state="showing",await Promise.all(l)}rects(){const e=[];if(this._svg)if(this._config.multiline){const s=this._e.getClientRects();for(let n=0;n<s.length;n++)e.push(this.svgRect(this._svg,s[n]))}else e.push(this.svgRect(this._svg,this._e.getBoundingClientRect()));return e}svgRect(e,s){const n=e.getBoundingClientRect(),i=s;return{x:(i.x||i.left)-(n.x||n.left),y:(i.y||i.top)-(n.y||n.top),w:i.width,h:i.height}}}function nu(t,e){return new su(t,e)}function Z(t,e){return t.class=[t.class,e].filter(Boolean).join(" "),t}const un={box:t=>Object.assign(t,{type:"box"}),circle:t=>Object.assign(t,{type:"circle"}),underline:t=>Object.assign(t,{type:"underline"}),highlight:t=>Object.assign(t,{type:"highlight"}),"strike-through":t=>Object.assign(t,{type:"strike-through"}),"crossed-off":t=>Object.assign(t,{type:"crossed-off"}),bracket:t=>Object.assign(t,{type:"bracket"}),strike:t=>Object.assign(t,{type:"strike-through"}),cross:t=>Object.assign(t,{type:"crossed-off"}),crossed:t=>Object.assign(t,{type:"crossed-off"}),linethrough:t=>Object.assign(t,{type:"strike-through"}),"line-through":t=>Object.assign(t,{type:"strike-through"}),black:t=>Z(t,"text-black"),blue:t=>Z(t,"text-blue"),cyan:t=>Z(t,"text-cyan"),gray:t=>Z(t,"text-gray"),green:t=>Z(t,"text-green"),indigo:t=>Z(t,"text-indigo"),lime:t=>Z(t,"text-lime"),orange:t=>Z(t,"text-orange"),pink:t=>Z(t,"text-pink"),purple:t=>Z(t,"text-purple"),red:t=>Z(t,"text-red"),teal:t=>Z(t,"text-teal"),white:t=>Z(t,"text-white"),yellow:t=>Z(t,"text-yellow")},iu=[[/^delay-?(\d+)?$/,(t,e,s)=>{const n=(t[1]?Number.parseInt(t[1]):s)||300;return e.delay=n,e}],[/^(?:op|opacity)-?(\d+)?$/,(t,e,s)=>{const n=(t[1]?Number.parseInt(t[1]):s)||100;return e.opacity=n/100,e}]];function ou(){return{install(t){t.directive("mark",{name:"v-mark",mounted:(e,s)=>{const n=g(()=>{const a=typeof s.value=="object"&&!Array.isArray(s.value)?{...s.value}:{at:s.value};let r={at:a.at};const l=Object.entries(s.modifiers).filter(([u,h])=>{if(un[u])return r=un[u](r,h),!1;for(const[f,d]of iu){const p=u.match(f);if(p)return r=d(p,r,h),!1}return!0});l.length&&console.warn("[Slidev] Invalid modifiers for v-mark:",l);const c={...r,...a};return c.type||(c.type="underline"),c}),i=nu(e,n.value),o=we(e,s,n.value.at);if(!o){console.error("[Slidev] Invalid value for v-mark:",n.value.at);return}Kt(()=>{let a;n.value.class&&(i.class=n.value.class),n.value.color&&(i.color=n.value.color);const r=n.value.at;if(r===!0)a=!0;else if(r===!1)a=!1;else if(o)a=o.isActive.value;else{console.error("[Slidev] Invalid value for v-mark:",r);return}a!=null&&(a?i.show():i.hide())})}})}}}const hn=Pi(),Qe=J("slidev-color-schema","auto"),dn=g(()=>T.colorSchema!=="auto"),Xn=g({get(){return dn.value?T.colorSchema==="dark":Qe.value==="auto"?hn.value:Qe.value==="dark"},set(t){dn.value||(Qe.value=t===hn.value?"auto":t?"dark":"light")}}),Uu=fn(Xn);He&&Zt(Xn,t=>{const e=document.querySelector("html");e.classList.toggle("dark",t),e.classList.toggle("light",!t)},{immediate:!0});function ru(t){const e=g(()=>t.value.path),s=g(()=>F.length),n=g(()=>Number.parseInt(e.value.split(/\//g).slice(-1)[0])||1),i=g(()=>Re(n.value)),o=g(()=>F.find(f=>f.path===`${n.value}`)??F.at(-1)??F[0]),a=g(()=>{var f,d,p;return(p=(d=(f=o.value)==null?void 0:f.meta)==null?void 0:d.slide)==null?void 0:p.id}),r=g(()=>{var f,d;return((d=(f=o.value)==null?void 0:f.meta)==null?void 0:d.layout)||(n.value===1?"cover":"default")}),l=g(()=>F.find(f=>f.path===`${Math.min(F.length,n.value+1)}`)),c=g(()=>F.filter(f=>{var d,p;return(p=(d=f.meta)==null?void 0:d.slide)==null?void 0:p.title}).reduce((f,d)=>($s(f,d),f),[])),u=g(()=>Ps(c.value,o.value)),h=g(()=>Cs(u.value));return{rawRoutes:F,route:t,path:e,total:s,clicksContext:It,clicks:ks,clicksTotal:he,currentPage:n,currentPath:i,currentRoute:o,currentSlideId:a,currentLayout:r,nextRoute:l,rawTree:c,treeWithActiveStatuses:u,tree:h,go:Ss,downloadPDF:uc,next:jn,nextSlide:xs,openInEditor:hc,prev:Fn,prevSlide:Ms}}function au(t){return{nav:ru(t),configs:T,themeConfigs:g(()=>T.themeConfig)}}function lu(){return{install(t){const e=x(au(ut));t.provide(Cn,A("none")),t.provide(Pn,e),t.provide($n,g(()=>e.nav.currentPage))}}}const qt=Ci(_c);qt.use(Y);qt.use(_o());qt.use(yc());qt.use(ou());qt.use(lu());vc({app:qt,router:Y});qt.mount("#app");export{xu as $,Hu as A,fu as B,es as C,It as D,Tt as E,Nu as F,Ru as G,Gt as H,du as I,Su as J,pe as K,qo as L,Du as M,Te as N,Tu as O,Lu as P,R as Q,xs as R,Ms as S,as as T,Uu as U,Eu as V,_u as W,Ss as X,bu as Y,vu as Z,I as _,gu as a,Zl as a0,ku as a1,De as a2,yu as a3,os as a4,oc as a5,ju as a6,dn as a7,Xn as a8,Ft as a9,Ee as aa,Iu as ab,Cu as ac,uc as ad,An as ae,Fu as af,zo as ag,$n as ah,Cn as ai,pu as aj,bs as ak,ie as al,rs as am,Jl as an,Xl as ao,Yl as ap,tc as aq,Au as ar,z as as,j as at,ec as au,Sn as av,mu as b,T as c,$u as d,ce as e,sc as f,Le as g,Ou as h,wu as i,Mu as j,Pu as k,hu as l,$o as m,jn as n,Pn as o,Fn as p,ru as q,Vo as r,Gl as s,wn as t,zu as u,ut as v,Ys as w,F as x,Fo as y,yo as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/slidev/play-B6STyeSD.js","assets/modules/vue-CnJIpJLC.js","assets/slidev/SlidesShow-DSp0k0X9.js","assets/modules/unplugin-icons-Bc68jzww.js","assets/slidev/bottom-DbVZ6J_D.js","assets/slidev/DrawingPreview-BoMh3sm4.js","assets/modules/shiki-BgDwwTVx.js","assets/modules/shiki-BSchMNmt.css","assets/SlidesShow-Do3DTZt5.css","assets/slidev/PrintStyle-BI6uuHPb.js","assets/play-CoA43pdi.css","assets/slidev/print-FDYn9SRk.js","assets/print-Nssgrd1X.css","assets/slidev/print-D_KPX9ua.js","assets/slidev/NoteDisplay-Ck0eJHJf.js","assets/NoteDisplay-C6AkVv8T.css","assets/slidev/presenter-Dw2XUbpl.js","assets/slidev/DrawingControls-DVtr6Eob.js","assets/DrawingControls-BO6lw4N5.css","assets/presenter-BRsvFpoV.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
